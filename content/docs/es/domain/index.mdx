---
sidebar_label: Dominio
sidebar_position: 7
---

# Niveles de Dominio y Estrategias

Sleakops proporciona una arquitectura de dominios flexible con tres niveles jer√°rquicos, adem√°s de alias personalizados para casos de uso avanzados.

## Descripci√≥n General

```mermaid
graph TD
    A[Dominio del Proveedor<br/>miempresa.com] --> B[Dominio del Entorno<br/>qa.miempresa.com]
    A --> C[Dominio del Entorno<br/>prod.miempresa.com]
    B --> D[Webservice<br/>api.qa.miempresa.com]
    B --> E[Webservice<br/>web.qa.miempresa.com]
    C --> F[Webservice<br/>api.prod.miempresa.com]
    D -.-> G[Alias<br/>api.miempresa.org]
    D -.-> H[Alias<br/>dominio.personalizado.com]
    
    style A fill:#201f1f,stroke:#90cdf4,stroke-width:2px
    style B fill:#340f09,stroke:#594440,stroke-width:2px
    style C fill:#340f09,stroke:#594440,stroke-width:2px
    style D fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style E fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style F fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style G fill:#1f2020,stroke:#e65100,stroke-width:2px,stroke-dasharray: 5 5
    style H fill:#1f2020,stroke:#e65100,stroke-width:2px,stroke-dasharray: 5 5
```

---

## 1. Dominio del Proveedor (Nivel Ra√≠z)

**Qu√© es:** El dominio ra√≠z de tu organizaci√≥n.

**Ejemplo:** `sleakops.com`

**Lo que Sleakops crea:**
- ‚úÖ Zona Alojada de AWS
- ‚úÖ Certificado SSL

**Caso de uso:** 
Establece la infraestructura principal de tu dominio. Todos los entornos y servicios se organizar√°n bajo este dominio.

**Cu√°ndo usarlo:**
- Configurando Sleakops por primera vez
- Gestionando el dominio principal de tu organizaci√≥n

---

## 2. Dominio del Entorno (Nivel de Subdominio)

**Qu√© es:** Subdominios que representan diferentes entornos.

**Ejemplos:** 
- `qa.sleakops.com`
- `staging.sleakops.com`
- `prod.sleakops.com`

**Lo que Sleakops crea:**
- ‚úÖ Zona Alojada de AWS
- ‚úÖ Certificado SSL

**Caso de uso:**
Aislar y organizar tus entornos de despliegue. Cada entorno obtiene su propio subdominio con gesti√≥n DNS independiente.

**Cu√°ndo usarlo:**
- Crear entornos separados (desarrollo, staging, producci√≥n)
- Aislar equipos o proyectos
- Gestionar m√∫ltiples etapas de despliegue

---

## 3. Dominio del Webservice (Auto-generado)

**Qu√© es:** Asignaci√≥n autom√°tica de dominio para cada webservice.

**Patr√≥n:** `[nombre-webservice].[dominio-entorno]`

**Ejemplo:** 
- Nombre del webservice: `api`
- Entorno: `qa.sleakops.com`
- **Resultado:** `api.qa.sleakops.com`

**Lo que Sleakops crea:**
- ‚úÖ Registro CNAME (agregado autom√°ticamente a la zona alojada del entorno)
- ‚úÖ Apunta al Application Load Balancer (ALB)

**Caso de uso:**
Configuraci√≥n de dominio sin configuraci√≥n. Cada servicio obtiene autom√°ticamente un dominio jer√°rquico y predecible.

**Cu√°ndo usarlo:**
- Escenario predeterminado para todos los webservices
- Cuando quieres URLs consistentes y predecibles
- Despliegues r√°pidos sin configuraci√≥n de dominio personalizada

---

## 4. Dominios Alias (Nivel Personalizado)

**Qu√© es:** Dominios personalizados fuera de tu jerarqu√≠a est√°ndar.

**Ejemplos:**
- `api.dominio-externo.com`
- `www.miempresa.io`
- `cualquiera.com`

**Lo que hace Sleakops:**

### Escenario A: El dominio coincide con una zona alojada existente
Si `dominio-externo.com` ya es un Proveedor o Entorno en Sleakops:
- ‚úÖ Proporciona registros DNS para validaci√≥n de certificado SSL
- ‚úÖ Proporciona nombre ALB para configuraci√≥n DNS
- ‚ö†Ô∏è T√∫ configuras los registros DNS por tu cuenta

### Escenario B: El dominio no coincide con ninguna zona alojada
Si `cualquiera.com` es completamente externo:
- ‚úÖ Crea certificado SSL
- ‚úÖ Proporciona registros de validaci√≥n para el certificado
- ‚úÖ Proporciona nombre ALB para configuraci√≥n DNS
- ‚ö†Ô∏è T√∫ gestionas el DNS en tu proveedor de dominios

**Caso de uso:**
- Dominios de marca personalizados
- Dominios externos apuntando a tus servicios
- URLs de marketing o vanidad
- Servicios multi-dominio

**Cu√°ndo usarlo:**
- El dominio predeterminado del webservice no se ajusta a tus necesidades
- Necesitas m√∫ltiples dominios para el mismo servicio
- Conectar dominios externos a tus servicios de Sleakops

---

## Estrategias de Delegaci√≥n

Sleakops ofrece tres enfoques de delegaci√≥n, d√°ndote flexibilidad basada en tus necesidades de infraestructura y pol√≠ticas organizacionales.

### Estrategia A: Delegaci√≥n Completa (Recomendada)

Delegar el Proveedor (dominio ra√≠z) y dejar que Sleakops gestione todo

```mermaid
graph TD
    A[sleakops.com<br/>üîë Delegado a Sleakops] --> B[prod.sleakops.com<br/>‚úÖ Auto-gestionado]
    A --> C[qa.sleakops.com<br/>‚úÖ Auto-gestionado]
    B --> D[api.prod.sleakops.com<br/>‚úÖ Auto-gestionado]
    B --> E[web.prod.sleakops.com<br/>‚úÖ Auto-gestionado]
    C --> F[api.qa.sleakops.com<br/>‚úÖ Auto-gestionado]
    
    style A fill:#1a202c,stroke:#2e7d32,stroke-width:3px
    style B fill:#1a202c,stroke:#388e3c,stroke-width:2px
    style C fill:#1a202c,stroke:#388e3c,stroke-width:2px
    style D fill:#1a202c,stroke:#43a047,stroke-width:2px
    style E fill:#1a202c,stroke:#43a047,stroke-width:2px
    style F fill:#1a202c,stroke:#43a047,stroke-width:2px
```


#### Lo que delegas:

Servidores de nombres del dominio del Proveedor a AWS Route 53

**Lo que Sleakops gestiona autom√°ticamente:**

- ‚úÖ Todos los dominios del entorno (zonas alojadas + certificados SSL)
- ‚úÖ Todos los dominios de webservice (registros CNAME + enrutamiento)
- ‚úÖ Propagaci√≥n DNS y validaci√≥n
- ‚úÖ Ciclo de vida completo del certificado SSL

**Beneficios:**

- üöÄ Configuraci√≥n DNS cero despu√©s de la delegaci√≥n inicial
- üîí Gesti√≥n automatizada de certificados SSL
- üéØ Infraestructura completamente gestionada
- ‚ö° Experiencia de despliegue m√°s r√°pida

**Mejor para:**

- Nuevos proyectos empezando desde cero
- Equipos que quieren m√≠nima sobrecarga DNS
- Organizaciones que adoptan soluciones completamente gestionadas
- Startups y equipos que se mueven r√°pido

**Configuraci√≥n:**

Delegar tu dominio ra√≠z (ej., sleakops.com) a Sleakops
Todo lo dem√°s es autom√°tico

---

### Estrategia B: Delegaci√≥n Por Entorno

Delegar dominios de entorno individuales mientras mantienes el control del dominio ra√≠z

```mermaid
graph TD
    A[sleakops.com<br/>üë§ T√∫ Controlas] -.-> B[prod.sleakops.com<br/>üîë Delegado a Sleakops]
    A -.-> C[qa.sleakops.com<br/>üîë Delegado a Sleakops]
    B --> D[api.prod.sleakops.com<br/>‚úÖ Auto-gestionado]
    B --> E[web.prod.sleakops.com<br/>‚úÖ Auto-gestionado]
    C --> F[api.qa.sleakops.com<br/>‚úÖ Auto-gestionado]
    
    style A fill:#1a202c,stroke:#e65100,stroke-width:3px
    style B fill:#1a202c,stroke:#2e7d32,stroke-width:3px
    style C fill:#1a202c,stroke:#2e7d32,stroke-width:3px
    style D fill:#1a202c,stroke:#43a047,stroke-width:2px
    style E fill:#1a202c,stroke:#43a047,stroke-width:2px
    style F fill:#1a202c,stroke:#43a047,stroke-width:2px
```

#### Lo que delegas:

Servidores de nombres de dominios de entorno individuales (ej., qa.sleakops.com, prod.sleakops.com)

**Lo que Sleakops gestiona autom√°ticamente:**

- ‚úÖ Todos los dominios de webservice dentro de entornos delegados
- ‚úÖ Certificados SSL para entornos delegados
- ‚úÖ Registros DNS dentro de zonas delegadas

**Lo que t√∫ gestionas:**

- ‚öôÔ∏è DNS del dominio ra√≠z
- ‚öôÔ∏è Registros NS apuntando a cada entorno

**Beneficios:**

- üéõÔ∏è Control del dominio ra√≠z para otros prop√≥sitos (email, sitios de marketing, etc.)
- üîí Gesti√≥n aislada de entornos
- ‚úÖ DNS autom√°tico de webservice dentro de cada entorno
- üè¢ Cumplimiento con pol√≠ticas DNS organizacionales

**Mejor para:**

- Organizaciones con infraestructura de dominio ra√≠z existente
- Equipos que necesitan dominio ra√≠z para servicios no-Sleakops
- Migraci√≥n gradual a Sleakops
- Organizaciones multi-equipo con aislamiento a nivel de entorno

**Configuraci√≥n:**

Mantener tu dominio ra√≠z (ej., sleakops.com) gestionado externamente
Delegar cada entorno (ej., qa.sleakops.com) a Sleakops
Agregar registros NS en tu DNS de dominio ra√≠z para cada entorno

---

### Estrategia C: Control Completo (Gesti√≥n Manual)
Retener control DNS completo y configurar manualmente todos los registros

```mermaid
graph TD
    A[sleakops.com<br/>üë§ T√∫ Controlas] -.-> B[prod.sleakops.com<br/>üë§ T√∫ Controlas]
    A -.-> C[qa.sleakops.com<br/>üë§ T√∫ Controlas]
    B -.-> D[api.prod.sleakops.com<br/>‚öôÔ∏è CNAME Manual]
    B -.-> E[web.prod.sleakops.com<br/>‚öôÔ∏è CNAME Manual]
    C -.-> F[api.qa.sleakops.com<br/>‚öôÔ∏è CNAME Manual]
    
    style A fill:#1a202c,stroke:#c62828,stroke-width:3px
    style B fill:#1a202c,stroke:#d84315,stroke-width:2px
    style C fill:#1a202c,stroke:#d84315,stroke-width:2px
    style D fill:#1a202c,stroke:#e64a19,stroke-width:2px
    style E fill:#1a202c,stroke:#e64a19,stroke-width:2px
    style F fill:#1a202c,stroke:#e64a19,stroke-width:2px
```

#### Lo que delegas:

Nada - t√∫ gestionas todo el DNS

**Lo que Sleakops proporciona:**

- üìã Registros DNS para validaci√≥n de certificado SSL
- üìã Endpoints ALB para enrutamiento de tr√°fico

**Lo que t√∫ gestionas:**

- ‚öôÔ∏è Todas las zonas DNS y registros
- ‚öôÔ∏è Registros de validaci√≥n de certificados
- ‚öôÔ∏è Registros CNAME apuntando al ALB
- ‚öôÔ∏è Todas las actualizaciones y cambios DNS

**Beneficios:**

- üéõÔ∏è Control completo de infraestructura DNS
- üîê Mantener DNS dentro de l√≠mites de seguridad existentes
- üìä Integraci√≥n con monitoreo DNS existente
- üè¢ Cumplir requisitos estrictos de cumplimiento

**Mejor para:**

- Organizaciones con gobernanza DNS estricta
- Infraestructura DNS compleja existente
- Pol√≠ticas de seguridad que requieren aislamiento DNS
- Empresas con equipos DNS dedicados

**Configuraci√≥n:**

Crear dominios en Sleakops (sin delegaci√≥n)
Sleakops proporciona registros de validaci√≥n y endpoints ALB
Agregar manualmente todos los registros DNS requeridos en tu proveedor DNS

---

### Comparaci√≥n de Estrategias de Delegaci√≥n

| Aspecto | Delegaci√≥n Completa | Por Entorno | Control Completo |
|---------|-------------------|-------------|------------------|
| Complejidad de Configuraci√≥n | ‚≠ê M√°s F√°cil | ‚≠ê‚≠ê Moderada | ‚≠ê‚≠ê‚≠ê Compleja |
| Mantenimiento Continuo | ‚≠ê Ninguno | ‚≠ê‚≠ê M√≠nimo | ‚≠ê‚≠ê‚≠ê Alto |
| Flexibilidad | ‚≠ê‚≠ê Limitada | ‚≠ê‚≠ê‚≠ê Equilibrada | ‚≠ê‚≠ê‚≠ê‚≠ê M√°xima |
| Tiempo de Despliegue | ‚ö° Instant√°neo | ‚ö°‚ö° Minutos | ‚ö°‚ö°‚ö° Manual |
| Control DNS | Sleakops | Compartido | T√∫ |
| Mejor para Equipos | Peque√±o-Mediano | Mediano-Grande | Empresarial |

---

## Patrones de Organizaci√≥n de Dominios

### Patr√≥n 1: Jerarqu√≠a Est√°ndar (Funciona con cualquier estrategia de delegaci√≥n)

```mermaid
graph TD
    A[sleakops.com<br/>Proveedor] --> B[prod.sleakops.com<br/>Entorno]
    A --> C[staging.sleakops.com<br/>Entorno]
    B --> D[api.prod.sleakops.com<br/>Webservice]
    B --> E[web.prod.sleakops.com<br/>Webservice]
    C --> F[api.staging.sleakops.com<br/>Webservice]
    C --> G[web.staging.sleakops.com<br/>Webservice]
    
    style A fill:#201f1f,stroke:#90cdf4,stroke-width:2px
    style B fill:#340f09,stroke:#594440,stroke-width:2px
    style C fill:#340f09,stroke:#594440,stroke-width:2px
    style D fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style E fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style F fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style G fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
```

**Beneficios:**
- Separaci√≥n clara de entornos
- F√°cil de entender y gestionar
- SSL y DNS autom√°ticos

---

### Patr√≥n 2: Jerarqu√≠a Mixta con Dominios Personalizados

```mermaid
graph TD
    A[sleakops.com<br/>Proveedor] --> B[prod.sleakops.com<br/>Entorno]
    B --> C[api.prod.sleakops.com<br/>Webservice]
    C -.-> D[api.miempresa.com<br/>Alias]
    C -.-> E[api.dominio-cliente.com<br/>Alias]
    
    style A fill:#201f1f,stroke:#90cdf4,stroke-width:2px
    style B fill:#340f09,stroke:#594440,stroke-width:2px
    style C fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style D fill:#1f2020,stroke:#e65100,stroke-width:2px,stroke-dasharray: 5 5
    style E fill:#1f2020,stroke:#e65100,stroke-width:2px,stroke-dasharray: 5 5
```

**Beneficios:**
- Dominios profesionales cara al cliente
- Mantiene estructura interna
- Flexibilidad para etiquetado blanco
- Requiere DNS manual para alias (todas las estrategias)

---

### Patr√≥n 3: Entorno por Equipo/Proyecto

```mermaid
graph TD
    A[sleakops.com<br/>Proveedor] --> B[equipo-frontend.sleakops.com<br/>Entorno]
    A --> C[equipo-backend.sleakops.com<br/>Entorno]
    A --> D[equipo-datos.sleakops.com<br/>Entorno]
    B --> E[app.equipo-frontend.sleakops.com<br/>Webservice]
    C --> F[api.equipo-backend.sleakops.com<br/>Webservice]
    D --> G[analytics.equipo-datos.sleakops.com<br/>Webservice]
    
    style A fill:#201f1f,stroke:#90cdf4,stroke-width:2px
    style B fill:#340f09,stroke:#594440,stroke-width:2px
    style C fill:#340f09,stroke:#594440,stroke-width:2px
    style D fill:#340f09,stroke:#594440,stroke-width:2px
    style E fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style F fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
    style G fill:#1a202c,stroke:#f2f2f2,stroke-width:2px
```

**Beneficios:**
- Propiedad clara del equipo
- Gesti√≥n DNS independiente por equipo
- Escalable para organizaciones grandes

---

## Gu√≠a de Decisi√≥n R√°pida

| Necesidad | Estrategia Recomendada |
|-----------|------------------------|
| Configuraci√≥n m√°s r√°pida | Delegaci√≥n Completa |
| Mantener ra√≠z para email/otros servicios | Delegaci√≥n Por Entorno |
| M√°ximo control DNS | Control Completo |
| Migraci√≥n gradual | Delegaci√≥n Por Entorno |
| Cumplimiento estricto | Control Completo |
| Proyecto nuevo | Delegaci√≥n Completa |
| Empresa con equipo DNS | Control Completo o Por Entorno |

| Tarea | Herramienta |
|-------|-------------|
| Configuraci√≥n inicial | Dominio del Proveedor |
| Crear nuevo entorno | Dominio del Entorno |
| Desplegar un servicio | Webservice (autom√°tico) |
| URL de marca personalizada | Dominio Alias |
| Integraci√≥n de dominio externo | Dominio Alias |
| Soluci√≥n de etiqueta blanca | Dominio Alias |


