"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[703],{26243:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"install-keda","title":"Instalar KEDA","description":"Tutorial: instalar KEDA","source":"@site/i18n/es/docusaurus-plugin-content-docs-tutorials/current/install-keda.mdx","sourceDirName":".","slug":"/install-keda","permalink":"/es/tutorial/install-keda","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"tutorial","permalink":"/es/tutorial/tags/tutorial"},{"inline":true,"label":"install","permalink":"/es/tutorial/tags/install"},{"inline":true,"label":"keda","permalink":"/es/tutorial/tags/keda"},{"inline":true,"label":"autoscaling","permalink":"/es/tutorial/tags/autoscaling"},{"inline":true,"label":"kubernetes","permalink":"/es/tutorial/tags/kubernetes"},{"inline":true,"label":"event-driven","permalink":"/es/tutorial/tags/event-driven"},{"inline":true,"label":"scaling","permalink":"/es/tutorial/tags/scaling"}],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"Instalar KEDA","sidebar_position":6,"title":"Instalar KEDA","description":"Tutorial: instalar KEDA","tags":["tutorial","install","keda","autoscaling","kubernetes","event-driven","scaling"],"image":"/img/tutorials/install-keda/install-keda.png"},"sidebar":"tutorialsSidebar","previous":{"title":"Dashboard Loki not responding","permalink":"/es/tutorial/dashboard-loki-not-responding"},"next":{"title":"S3 Batch","permalink":"/es/tutorial/s3-batch"}}');var s=a(74848),i=a(28453),r=(a(26393),a(42644));const t={sidebar_label:"Instalar KEDA",sidebar_position:6,title:"Instalar KEDA",description:"Tutorial: instalar KEDA",tags:["tutorial","install","keda","autoscaling","kubernetes","event-driven","scaling"],image:"/img/tutorials/install-keda/install-keda.png"},o=void 0,c={},d=[{value:"M\xe9todos de Instalaci\xf3n",id:"m\xe9todos-de-instalaci\xf3n",level:2},{value:"Usando la interfaz de Lens (opci\xf3n 1)",id:"usando-la-interfaz-de-lens-opci\xf3n-1",level:3},{value:"Usando Helm por terminal (opci\xf3n 2)",id:"usando-helm-por-terminal-opci\xf3n-2",level:3},{value:"Verificaci\xf3n de la Instalaci\xf3n",id:"verificaci\xf3n-de-la-instalaci\xf3n",level:2},{value:"En Lens",id:"en-lens",level:3},{value:"Por terminal (opcional)",id:"por-terminal-opcional",level:3},{value:"Configuraci\xf3n del ScaledObject",id:"configuraci\xf3n-del-scaledobject",level:2},{value:"\xbfQu\xe9 es un ScaledObject?",id:"qu\xe9-es-un-scaledobject",level:3},{value:"Creaci\xf3n del ScaledObject",id:"creaci\xf3n-del-scaledobject",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Aprende c\xf3mo instalar KEDA (Kubernetes Event-Driven Autoscaling) en tu cl\xfaster usando diferentes m\xe9todos. KEDA permite escalar autom\xe1ticamente tus aplicaciones bas\xe1ndote en eventos y m\xe9tricas personalizadas."}),"\n",(0,s.jsx)(n.h2,{id:"m\xe9todos-de-instalaci\xf3n",children:"M\xe9todos de Instalaci\xf3n"}),"\n",(0,s.jsx)(n.h3,{id:"usando-la-interfaz-de-lens-opci\xf3n-1",children:"Usando la interfaz de Lens (opci\xf3n 1)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["En el men\xfa de Lens o el IDE de kubernetes que uses, ve a ",(0,s.jsx)(n.strong,{children:"Helm > Charts"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["En el buscador, escribe ",(0,s.jsx)(n.strong,{children:"keda"}),". Deber\xeda aparecerte el chart oficial de Bitnami:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bitnami/keda"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Selecciona la versi\xf3n que desees (por ejemplo, la m\xe1s reciente disponible)."}),"\n",(0,s.jsxs)(n.li,{children:["Haz clic en ",(0,s.jsx)(n.strong,{children:"Install"})," y en la siguiente ventana revisa los valores (YAML) para la instalaci\xf3n si deseas personalizar algo (por defecto, suele ser suficiente)."]}),"\n",(0,s.jsxs)(n.li,{children:["Confirma la instalaci\xf3n presionando ",(0,s.jsx)(n.strong,{children:"Install"})," nuevamente."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"usando-helm-por-terminal-opci\xf3n-2",children:"Usando Helm por terminal (opci\xf3n 2)"}),"\n",(0,s.jsx)(n.p,{children:"Si prefieres la l\xednea de comandos o no dispones de la secci\xf3n de Helm en Lens, puedes instalarlo as\xed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"helm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n\n# Creamos un namespace (opcional)\nkubectl create namespace keda\n\n# Instalamos KEDA\nhelm install keda bitnami/keda --namespace keda\n"})}),"\n",(0,s.jsx)(n.h2,{id:"verificaci\xf3n-de-la-instalaci\xf3n",children:"Verificaci\xf3n de la Instalaci\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"Despu\xe9s de la instalaci\xf3n, deber\xedas ver que los recursos de KEDA se han creado:"}),"\n",(0,s.jsx)(n.h3,{id:"en-lens",children:"En Lens"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Selecciona el namespace donde instalaste KEDA (por defecto, ",(0,s.jsx)(n.code,{children:"keda"})," si lo creaste manualmente)."]}),"\n",(0,s.jsxs)(n.li,{children:["Ver\xe1s un ",(0,s.jsx)(n.strong,{children:"Deployment"})," llamado ",(0,s.jsx)(n.code,{children:"keda-operator"}),", uno o m\xe1s ",(0,s.jsx)(n.strong,{children:"Pods"}),", y otros recursos de tipo CRD (Custom Resource Definitions) como ",(0,s.jsx)(n.code,{children:"ScaledObjects"})," y ",(0,s.jsx)(n.code,{children:"TriggerAuthentications"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"por-terminal-opcional",children:"Por terminal (opcional)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get all -n keda\n"})}),"\n",(0,s.jsx)(n.p,{children:"Deber\xedas ver el operador corriendo, por ejemplo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"NAME                                        READY   STATUS    RESTARTS   AGE\npod/keda-operator-xxxxx-xxxxx               1/1     Running   0          1m\n"})}),"\n",(0,s.jsx)(n.p,{children:"Si todo est\xe1 en orden, ya puedes usar KEDA para tu primer autoscaling basado en eventos o m\xe9tricas personalizadas."}),"\n",(0,s.jsx)(n.h2,{id:"configuraci\xf3n-del-scaledobject",children:"Configuraci\xf3n del ScaledObject"}),"\n",(0,s.jsx)(n.h3,{id:"qu\xe9-es-un-scaledobject",children:"\xbfQu\xe9 es un ScaledObject?"}),"\n",(0,s.jsxs)(n.p,{children:["Ahora crearemos un ",(0,s.jsx)(n.code,{children:"ScaledObject"}),". Este recurso es el que indica a KEDA c\xf3mo y cu\xe1ndo escalar el despliegue. En este ejemplo, usaremos un trigger de ",(0,s.jsx)(n.strong,{children:"CPU"}),", aunque KEDA lo maneja internamente v\xeda ",(0,s.jsx)(n.code,{children:"HorizontalPodAutoscaler"})," (HPA), pero la l\xf3gica se integra con la CRD de KEDA."]}),"\n",(0,s.jsxs)(n.p,{children:["Puedes revisar todos los posibles triggers que ofrece KEDA en la documentaci\xf3n oficial ",(0,s.jsx)(r.HaR,{})," ",(0,s.jsx)(n.a,{href:"https://keda.sh/docs/2.16/scalers/",children:"aqu\xed"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"creaci\xf3n-del-scaledobject",children:"Creaci\xf3n del ScaledObject"}),"\n",(0,s.jsxs)(n.p,{children:["Para crear este objeto vamos a usar la funci\xf3n de extend-charts en Sleakops. Para llegar desde el listado de proyectos en Sleakops vamos a ",(0,s.jsx)(n.strong,{children:"Settings > Chart Configuration"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Una vez est\xe9s en la pantalla de Chart Configuration puedes agregar tu ",(0,s.jsx)(n.code,{children:"ScaledObjects"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Para poder completar los valores del ScaledObject vas a necesitar algunos valores como el namespace y el nombre del objeto deployment (generado por Sleakops) en el cluster."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["El namespace podr\xedas usar la siguiente anotaci\xf3n, como en el siguiente ejemplo: ",(0,s.jsx)(n.code,{children:"{{ .Values.global.namespace }}"})," para sacarlo de los values que ya genera Sleakops"]}),"\n",(0,s.jsxs)(n.li,{children:["El nombre del deployment, por el momento no lo disponibilizamos. Para obtenerlo puedes entrar a Lens o tu IDE de kubernetes dirigirte a la secci\xf3n de ",(0,s.jsx)(n.strong,{children:"Workloads > Deployments"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: keda.sh/v1alpha1\nkind: ScaledObject\nmetadata:\n  name: http-echo-scaledobject\n  namespace: { { .Values.global.namespace } }\nspec:\n  scaleTargetRef:\n    # Debe coincidir con el nombre del Deployment\n    name: http-echo-deployment\n  # minReplicaCount y maxReplicaCount determinan los l\xedmites de escalado\n  minReplicaCount: 1\n  maxReplicaCount: 5\n\n  # Trigger que define la condici\xf3n de escalado (en este caso CPU)\n  triggers:\n    - type: cpu\n      metadata:\n        type: Utilization # o AverageValue\n        value: "50" # por encima de 50% de CPU se escala\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},26393:()=>{},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>t});var l=a(96540);const s={},i=l.createContext(s);function r(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);