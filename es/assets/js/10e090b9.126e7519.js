"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1575],{69317:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"s3-batch","title":"S3 Batch","description":"S3 Batch","source":"@site/i18n/es/docusaurus-plugin-content-docs-tutorials/current/s3-batch.mdx","sourceDirName":".","slug":"/s3-batch","permalink":"/es/tutorial/s3-batch","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"S3","permalink":"/es/tutorial/tags/s-3"},{"inline":true,"label":"batch-operations","permalink":"/es/tutorial/tags/batch-operations"},{"inline":true,"label":"data-migration","permalink":"/es/tutorial/tags/data-migration"},{"inline":true,"label":"cross-account","permalink":"/es/tutorial/tags/cross-account"},{"inline":true,"label":"aws","permalink":"/es/tutorial/tags/aws"},{"inline":true,"label":"storage","permalink":"/es/tutorial/tags/storage"}],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_label":"S3 Batch","sidebar_position":7,"title":"S3 Batch","description":"S3 Batch","tags":["S3","batch-operations","data-migration","cross-account","aws","storage"],"image":"/img/tutorials/s3-batch/s3-batch.png"},"sidebar":"tutorialsSidebar","previous":{"title":"Instalar KEDA","permalink":"/es/tutorial/install-keda"},"next":{"title":"Integraci\xf3n VPN de Terceros","permalink":"/es/tutorial/third-party-integration-vpn"}}');var o=a(74848),r=a(28453);a(26393);const s={sidebar_label:"S3 Batch",sidebar_position:7,title:"S3 Batch",description:"S3 Batch",tags:["S3","batch-operations","data-migration","cross-account","aws","storage"],image:"/img/tutorials/s3-batch/s3-batch.png"},t=void 0,l={},c=[{value:"1. Habilitar y configurar un inventario o manifest (lista de objetos)",id:"1-habilitar-y-configurar-un-inventario-o-manifest-lista-de-objetos",level:2},{value:"Crear un inventario S3 (opcional, pero recomendado)",id:"crear-un-inventario-s3-opcional-pero-recomendado",level:3},{value:"O usar un manifest propio (CSV personalizado)",id:"o-usar-un-manifest-propio-csv-personalizado",level:3},{value:"2. Configurar permisos y roles en la cuenta de origen y destino",id:"2-configurar-permisos-y-roles-en-la-cuenta-de-origen-y-destino",level:2},{value:"Rol de ejecuci\xf3n del S3 Batch",id:"rol-de-ejecuci\xf3n-del-s3-batch",level:3},{value:"Pol\xedtica en el bucket de destino (cross-account)",id:"pol\xedtica-en-el-bucket-de-destino-cross-account",level:3},{value:"3. Crear la tarea (Job) de S3 Batch Operations",id:"3-crear-la-tarea-job-de-s3-batch-operations",level:2},{value:"Configuraci\xf3n b\xe1sica del Job",id:"configuraci\xf3n-b\xe1sica-del-job",level:3},{value:"Opciones adicionales (opcional)",id:"opciones-adicionales-opcional",level:3},{value:"Revisar y crear Job",id:"revisar-y-crear-job",level:3},{value:"4. Monitorear el proceso",id:"4-monitorear-el-proceso",level:2},{value:"5. Validar la transferencia",id:"5-validar-la-transferencia",level:2},{value:"Resumen de puntos clave",id:"resumen-de-puntos-clave",level:2}];function d(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Aprende c\xf3mo usar S3 Batch Operations para copiar grandes vol\xfamenes de objetos entre buckets S3, incluyendo configuraciones cross-account. Esta gu\xeda te ayudar\xe1 a migrar datos de manera eficiente y escalable."}),"\n",(0,o.jsx)(n.h2,{id:"1-habilitar-y-configurar-un-inventario-o-manifest-lista-de-objetos",children:"1. Habilitar y configurar un inventario o manifest (lista de objetos)"}),"\n",(0,o.jsx)(n.h3,{id:"crear-un-inventario-s3-opcional-pero-recomendado",children:"Crear un inventario S3 (opcional, pero recomendado)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["En la consola de ",(0,o.jsx)(n.strong,{children:"Amazon S3"}),", selecciona el bucket de origen."]}),"\n",(0,o.jsxs)(n.li,{children:['En la secci\xf3n "Management" (o "Administraci\xf3n"), crea un ',(0,o.jsx)(n.strong,{children:"S3 Inventory"})," que genere un reporte peri\xf3dico (CSV o Parquet) de todos los objetos."]}),"\n",(0,o.jsx)(n.li,{children:'Verifica que el inventario incluya la informaci\xf3n de "Object version" (si corresponde) y "ETag".'}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"o-usar-un-manifest-propio-csv-personalizado",children:"O usar un manifest propio (CSV personalizado)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Alternativamente, puedes crear tu propio archivo CSV con la siguiente estructura en cada l\xednea:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csv",children:"s3://NOMBRE_BUCKET_ORIGEN/objeto1.txt\ns3://NOMBRE_BUCKET_ORIGEN/objeto2.txt\n...\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sube este archivo CSV (manifest) a un bucket S3 al que tengas acceso."}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Nota",type:"info",children:(0,o.jsx)(n.p,{children:'Este inventario o CSV es el "manifest" que utilizar\xe1 S3 Batch para saber qu\xe9 objetos copiar.'})}),"\n",(0,o.jsx)(n.h2,{id:"2-configurar-permisos-y-roles-en-la-cuenta-de-origen-y-destino",children:"2. Configurar permisos y roles en la cuenta de origen y destino"}),"\n",(0,o.jsx)(n.h3,{id:"rol-de-ejecuci\xf3n-del-s3-batch",children:"Rol de ejecuci\xf3n del S3 Batch"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["En la cuenta ",(0,o.jsx)(n.strong,{children:"de origen"}),", crea un IAM Role que permita a S3 Batch Operations (servicio ",(0,o.jsx)(n.code,{children:"batchoperations.s3.amazonaws.com"}),") leer el bucket de origen y, a la vez, escribir en el bucket de destino."]}),"\n",(0,o.jsxs)(n.li,{children:["Aseg\xfarate de que en la pol\xedtica est\xe9 incluida la ",(0,o.jsxs)(n.strong,{children:["acci\xf3n ",(0,o.jsx)(n.code,{children:"s3:GetObject"})]})," para el bucket de origen y ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"s3:PutObject"})})," para el bucket de destino."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"pol\xedtica-en-el-bucket-de-destino-cross-account",children:"Pol\xedtica en el bucket de destino (cross-account)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Si el bucket de destino est\xe1 en otra cuenta, agrega una pol\xedtica de bucket que permita la acci\xf3n ",(0,o.jsx)(n.code,{children:"s3:PutObject"})," para el ARN del rol IAM del paso anterior."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"3-crear-la-tarea-job-de-s3-batch-operations",children:"3. Crear la tarea (Job) de S3 Batch Operations"}),"\n",(0,o.jsx)(n.h3,{id:"configuraci\xf3n-b\xe1sica-del-job",children:"Configuraci\xf3n b\xe1sica del Job"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ingresar a la consola S3"})," y seleccionar ",(0,o.jsx)(n.strong,{children:"Batch Operations"})," en el men\xfa lateral."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Crear un nuevo Job"})," con la siguiente configuraci\xf3n b\xe1sica:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manifest"}),": Indica d\xf3nde est\xe1 el inventario o CSV (manifest) que contiene la lista de objetos."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Operation"}),": Selecciona ",(0,o.jsx)(n.strong,{children:"Copy"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Destination Bucket"}),": Elige el bucket de destino (en la otra cuenta)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"IAM Role"}),": Selecciona el rol creado para este prop\xf3sito (paso 2.1)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"opciones-adicionales-opcional",children:"Opciones adicionales (opcional)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Storage Class"}),": Selecciona la clase de almacenamiento que desees en el bucket de destino (Standard, IA, etc.)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Object Tags"}),": Si quieres replicar o modificar etiquetas en el proceso."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Retention/Legal Hold"}),": Si aplica compliance."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"revisar-y-crear-job",children:"Revisar y crear Job"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Verifica que los ajustes sean correctos y lanza el Job."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"4-monitorear-el-proceso",children:"4. Monitorear el proceso"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["En la consola de ",(0,o.jsx)(n.strong,{children:"S3 Batch Operations"}),", ubica tu Job y revisa el estado."]}),"\n",(0,o.jsx)(n.li,{children:"Seg\xfan el volumen de objetos, la copia puede demorar desde minutos hasta varias horas/d\xedas (para millones de archivos)."}),"\n",(0,o.jsx)(n.li,{children:"Revisa los reportes de progreso y posibles errores (por ejemplo, objetos con acceso denegado)."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"5-validar-la-transferencia",children:"5. Validar la transferencia"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Conteo de objetos"}),": Verifica que el n\xfamero total de archivos en el bucket de destino coincide con lo esperado."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Logs de errores"}),": Consulta la salida de errores o revisa CloudTrail/S3 Logs para objetos que no se hayan copiado correctamente."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reejecutar para objetos fallidos"}),": Puedes generar un nuevo manifest con solo los objetos fallidos y lanzar otro Job."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"resumen-de-puntos-clave",children:"Resumen de puntos clave"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Manifest"}),": Preparar correctamente el inventario o lista de objetos."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Permisos"}),": Asegurarse de tener un rol IAM con pol\xedticas que permitan ",(0,o.jsx)(n.code,{children:"GetObject"})," en origen y ",(0,o.jsx)(n.code,{children:"PutObject"})," en destino (cross-account)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Batch Job"}),': Configurar la operaci\xf3n de "Copy" con el rol correcto.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Monitoreo"}),": Revisar logs y reportes de S3 Batch y, si es necesario, reintentar objetos fallidos."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},26393:()=>{},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>t});var i=a(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);