"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1415],{4412:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>_,contentTitle:()=>O,default:()=>T,frontMatter:()=>E,metadata:()=>a,toc:()=>L});const a=JSON.parse('{"id":"cli","title":"CLI","description":"Streamline CI/CD with SleakOps CLI","source":"@site/docs/cli.mdx","sourceDirName":".","slug":"/cli","permalink":"/cli","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_label":"Sleakops CLI","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Connect into the VPN","permalink":"/user/vpn"},"next":{"title":"Connect to Git","permalink":"/connect_to_git"}}');var s=t(4848),i=t(8453),r=t(2644),l=t(6540),o=t(8215),c=t(5627),u=t(6347),d=t(372),p=t(604),h=t(1861),m=t(8749);function b(e){return l.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function y(e){const{values:n,children:t}=e;return(0,l.useMemo)((()=>{const e=n??function(e){return b(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:s}}=e;return{value:n,label:t,attributes:a,default:s}}))}(t);return function(e){const n=(0,h.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function g(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,u.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,p.aZ)(s),(0,l.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,s=y(e),[i,r]=(0,l.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:s}))),[o,c]=f({queryString:t,groupId:a}),[u,p]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,m.Dv)(t);return[a,(0,l.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:a}),h=(()=>{const e=o??u;return g({value:e,tabValues:s})?e:null})();(0,d.A)((()=>{h&&r(h)}),[h]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!g({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);r(e),c(e),p(e)}),[c,p,s]),tabValues:s}}var v=t(9136);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:n,block:t,selectedValue:a,selectValue:i,tabValues:r}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,c.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),s=r[t].value;s!==a&&(u(n),i(s))},p=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:r.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,s.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{l.push(e)},onKeyDown:p,onClick:d,...i,className:(0,o.A)("tabs__item",j.tabItem,i?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function w(e){let{lazy:n,children:t,selectedValue:a}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===a));return e?(0,l.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function C(e){const n=x(e);return(0,s.jsxs)("div",{className:(0,o.A)("tabs-container",j.tabList),children:[(0,s.jsx)(k,{...n,...e}),(0,s.jsx)(w,{...n,...e})]})}function I(e){const n=(0,v.A)();return(0,s.jsx)(C,{...e,children:b(e.children)},String(n))}const S={tabItem:"tabItem_Ymn6"};function A(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,o.A)(S.tabItem,a),hidden:t,children:n})}const E={sidebar_label:"Sleakops CLI",sidebar_position:8},O="CLI",_={},L=[{value:"Streamline CI/CD with SleakOps CLI",id:"streamline-cicd-with-sleakops-cli",level:2},{value:"1. Authentication",id:"1-authentication",level:3},{value:"2. Create a Build",id:"2-create-a-build",level:3},{value:"3. Make a Deploy",id:"3-make-a-deploy",level:3},{value:"CI/CD Examples",id:"cicd-examples",level:2}];function D(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cli",children:"CLI"})}),"\n",(0,s.jsx)(n.h2,{id:"streamline-cicd-with-sleakops-cli",children:"Streamline CI/CD with SleakOps CLI"}),"\n",(0,s.jsx)(n.p,{children:"SleakOps CLI is a Python package designed to simplify your CI/CD workflows.\nWith just two straightforward subcommands, you can effortlessly create builds and deploy your applications, ensuring a smooth and efficient development process.\nTo get started, simply install SleakOps using pip:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pip install sleakops\n"})}),"\n",(0,s.jsx)(n.h3,{id:"1-authentication",children:"1. Authentication"}),"\n",(0,s.jsxs)(n.p,{children:["To authenticate with the SleakOps CLI, you need an API_KEY. You can obtain this key from the ",(0,s.jsxs)(n.a,{href:"https://console.sleakops.com/settings/apikey",children:["console ",(0,s.jsx)(r.HaR,{})]})," by clicking on Generate API-Key.\nEach company is allowed to have only one active API_KEY at a time. If you request a new API_KEY, the old one will be automatically revoked. The page shows the company keys and who generated them."]}),"\n",(0,s.jsx)(n.p,{children:"Once you have your API_KEY, you can use it as an argument when running SleakOps commands or set it as an environment variable named SLEAKOPS_KEY."}),"\n",(0,s.jsxs)(n.admonition,{title:"Setting up SLEAKOPS_KEY in CI/CD Pipelines",type:"tip",children:[(0,s.jsx)(n.p,{children:"For CI/CD pipelines, it's recommended to set SLEAKOPS_KEY as a secret environment variable in your Git provider:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub"}),": Add it as a repository secret in Settings \u2192 Secrets and variables \u2192 Actions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitLab"}),": Add it as a CI/CD variable in Settings \u2192 CI/CD \u2192 Variables"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bitbucket"}),": Add it as a repository variable in Repository settings \u2192 Pipelines \u2192 Repository variables"]}),"\n"]}),(0,s.jsx)(n.p,{children:"This ensures secure access to SleakOps services without exposing your API key in your pipeline configuration files."})]}),"\n",(0,s.jsx)(n.h3,{id:"2-create-a-build",children:"2. Create a Build"}),"\n",(0,s.jsx)(n.p,{children:"To create a build for your application, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sleakops build [options]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command initiates the build process, and SleakOps takes care of compiling your code, running tests, and packaging the application for deployment. You can specify additional options to tailor the build process to your specific needs."}),"\n",(0,s.jsxs)(n.p,{children:["There are two required arguments ",(0,s.jsx)(n.strong,{children:"project"})," and ",(0,s.jsx)(n.strong,{children:"branch"}),", which are used to know what to build.\nBesides, you might add a ",(0,s.jsx)(n.strong,{children:"commit"})," to build a previous commit, a ",(0,s.jsx)(n.strong,{children:"tag"})," for the image, and the ",(0,s.jsx)(n.em,{children:"provider"})," if you need to specify it."]}),"\n",(0,s.jsx)(n.p,{children:"As previously mentioned the key might be an input here or a environment variable."}),"\n",(0,s.jsxs)(n.p,{children:["Also, you might mark if you want the process to ",(0,s.jsx)(n.strong,{children:"wait"})," the build to be finished or not."]}),"\n",(0,s.jsx)(n.h3,{id:"3-make-a-deploy",children:"3. Make a Deploy"}),"\n",(0,s.jsx)(n.p,{children:"Once your build is ready, you can effortlessly deploy your application using the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sleakops deploy [options]\n"})}),"\n",(0,s.jsx)(n.p,{children:"SleakOps seamlessly handles the deployment process, ensuring that your application is up and running in no time. You can specify deployment options to fine-tune the process according to your requirements."}),"\n",(0,s.jsxs)(n.p,{children:["Here ",(0,s.jsx)(n.strong,{children:"project"})," and ",(0,s.jsx)(n.strong,{children:"environment"})," are the required arguments. User might add a ",(0,s.jsx)(n.strong,{children:"build"})," or ",(0,s.jsx)(n.strong,{children:"tag"})," image to specify an image. Here the ",(0,s.jsx)(n.strong,{children:"wait"})," and ",(0,s.jsx)(n.strong,{children:"key"})," options are present to, the usage is the same as in the build command."]}),"\n",(0,s.jsx)(n.h2,{id:"cicd-examples",children:"CI/CD Examples"}),"\n",(0,s.jsx)(n.p,{children:"With SleakOps CLI, you can integrate your CI/CD pipelines, automate the build and deployment process, and focus on delivering exceptional applications without the hassle of manual intervention.\nEnjoy a seamless development experience with SleakOps, and make your custom CI/CD workflows."}),"\n",(0,s.jsxs)(I,{children:[(0,s.jsx)(A,{value:"GitHub",children:(0,s.jsx)("code",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"name: Deploy\n\non:\n  push:\n      branches:\n      - main\njobs:\n  build:\n      runs-on: ubuntu-latest\n      steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Install SleakOps CLI\n        run: pip install sleakops\n\n      - name: Run SleakOps build\n        env:\n          SLEAKOPS_KEY: ${{ secrets.SLEAKOPS_KEY }}\n        run: sleakops build -p core -b main -w\n  deploy:\n      needs: [build]\n      runs-on: ubuntu-latest\n      steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Install SleakOps CLI\n        run: pip install sleakops\n\n      - name: Run SleakOps deploy\n        env:\n          SLEAKOPS_KEY: ${{ secrets.SLEAKOPS_KEY }}\n        run: sleakops deploy -p core -e main -w\n"})})})}),(0,s.jsx)(A,{value:"GitLab",children:(0,s.jsx)("code",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"image: python:3.9\n\nstages:\n  - build\n  - deploy\n\nbuild:\n  stage: build\n  script:\n    - apt-get update -qy\n    - apt-get install -y python3-pip\n    - pip3 install sleakops\n    - sleakops build -p core -b main -w\n  rules:\n    - if: '$CI_COMMIT_BRANCH == main'\n\ndeploy:\n  stage: deploy\n  needs:\n    - build\n  script:\n    - apt-get update -qy\n    - apt-get install -y python3-pip\n    - pip3 install sleakops\n    - sleakops deploy -p core -e prod -w\n  rules:\n    - if: '$CI_COMMIT_BRANCH == main'\n"})})})}),(0,s.jsx)(A,{value:"BitBucket",children:(0,s.jsx)("code",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"image: python:3.9\n\npipelines:\n  branches:\n    main:\n      - step:\n          name: Deploy\n          script:\n            - apt-get update -qy\n            - apt-get install -y python3-pip\n            - pip3 install sleakops\n            - sleakops build -p core -b main -w\n            - sleakops deploy -p core -e main -w\n"})})})})]})]})}function T(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(D,{...e})}):D(e)}}}]);