"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3199],{87466:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"config-aws-waf","title":"Configure AWS WAF","description":"Learn how to configure AWS WAF to protect your Application Load Balancer from unwanted requests","source":"@site/tutorials/config-aws-waf.mdx","sourceDirName":".","slug":"/config-aws-waf","permalink":"/tutorial/config-aws-waf","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"aws","permalink":"/tutorial/tags/aws"},{"inline":true,"label":"waf","permalink":"/tutorial/tags/waf"},{"inline":true,"label":"security","permalink":"/tutorial/tags/security"},{"inline":true,"label":"alb","permalink":"/tutorial/tags/alb"},{"inline":true,"label":"firewall","permalink":"/tutorial/tags/firewall"},{"inline":true,"label":"web-protection","permalink":"/tutorial/tags/web-protection"},{"inline":true,"label":"load-balancer","permalink":"/tutorial/tags/load-balancer"}],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Configure AWS WAF","sidebar_label":"Configure AWS WAF","sidebar_position":3,"description":"Learn how to configure AWS WAF to protect your Application Load Balancer from unwanted requests","tags":["aws","waf","security","alb","firewall","web-protection","load-balancer"],"image":"/img/tutorials/config-aws-waf/config-aws-waf.png"},"sidebar":"tutorialsSidebar","previous":{"title":"n8n + Worker Mode","permalink":"/tutorial/n8n-worker"},"next":{"title":"Make RDS Database Public","permalink":"/tutorial/make-rds-public"}}');var s=t(74848),r=t(28453);t(26393);const l={title:"Configure AWS WAF",sidebar_label:"Configure AWS WAF",sidebar_position:3,description:"Learn how to configure AWS WAF to protect your Application Load Balancer from unwanted requests",tags:["aws","waf","security","alb","firewall","web-protection","load-balancer"],image:"/img/tutorials/config-aws-waf/config-aws-waf.png"},o=void 0,a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Estimated Cost",id:"estimated-cost",level:2},{value:"Cost Breakdown:",id:"cost-breakdown",level:3},{value:"Example Cost Calculation:",id:"example-cost-calculation",level:3},{value:"Step 1: Create a Web ACL",id:"step-1-create-a-web-acl",level:2},{value:"Step 2: Configure Basic Rules",id:"step-2-configure-basic-rules",level:2},{value:"Verification",id:"verification",level:2},{value:"Updating Rules",id:"updating-rules",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Learn how to configure AWS WAF (Web Application Firewall) to protect your Application Load Balancer (ALB) from unwanted requests, such as those from bots or malicious attacks. AWS WAF allows you to create custom rules to filter HTTP(S) traffic and only allow legitimate requests."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"An AWS account with access to WAF and Application Load Balancer"}),"\n",(0,s.jsx)(n.li,{children:"An Application Load Balancer already configured in your AWS account"}),"\n",(0,s.jsx)(n.li,{children:"Basic understanding of AWS console navigation"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"estimated-cost",children:"Estimated Cost"}),"\n",(0,s.jsx)(n.p,{children:"The cost of AWS WAF depends on:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The number of active rules"}),"\n",(0,s.jsx)(n.li,{children:"The number of requests processed by WAF"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cost-breakdown",children:"Cost Breakdown:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Component"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Cost"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Cost per rule"})}),(0,s.jsx)(n.td,{children:"$1 USD/month per rule"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Cost per WebACL"})}),(0,s.jsx)(n.td,{children:"$5 USD/month per WebACL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Cost per request"})}),(0,s.jsx)(n.td,{children:"$0.60 USD per million requests"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"example-cost-calculation",children:"Example Cost Calculation:"}),"\n",(0,s.jsx)(n.p,{children:"If you have 5 active rules and process 10 million requests per month, the cost would be:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"WebACL: $5 USD"}),"\n",(0,s.jsx)(n.li,{children:"Rules: $5 USD (5 rules \xd7 $1 USD)"}),"\n",(0,s.jsx)(n.li,{children:"Requests: $6 USD (10 million \xd7 $0.60 USD)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Approximate total cost"}),": $16 USD/month"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-1-create-a-web-acl",children:"Step 1: Create a Web ACL"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to the AWS console and search for ",(0,s.jsx)(n.strong,{children:"WAF"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click on ",(0,s.jsx)(n.strong,{children:"Create web ACL"})]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the name of your Web ACL (for example, ",(0,s.jsx)(n.code,{children:"waf-alb-prod"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Choose the region where your ALB is located"}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Regional"})," if your ALB is in a specific region (usually the case), or ",(0,s.jsx)(n.strong,{children:"CloudFront"})," if you're using a CloudFront distribution"]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Associated AWS resources (optional)"})," section, select your ",(0,s.jsx)(n.strong,{children:"Application Load Balancer"})," so all traffic passes through WAF"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Next"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-2-configure-basic-rules",children:"Step 2: Configure Basic Rules"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add rules and rule groups"})]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"AWS Managed Rules"})," and choose some of the following rules as examples:"]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Rule"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Description"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AWSManagedRulesCommonRuleSet"})}),(0,s.jsx)(n.td,{children:"For basic protection against common web vulnerabilities"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AWSManagedRulesBotControl"})}),(0,s.jsx)(n.td,{children:"To block known bots and automated traffic"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AWSManagedRulesAnonymousIPList"})}),(0,s.jsx)(n.td,{children:"To block IP addresses associated with services that hide user identity (VPN, proxies, Tor)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AWSManagedRulesAmazonIpReputationList"})}),(0,s.jsx)(n.td,{children:"To block traffic from IPs known for malicious behavior"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AWSManagedRulesSQLiRuleSet"})}),(0,s.jsx)(n.td,{children:"To protect against SQL injection attacks"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"These are just examples, as there are many other options depending on the nature of your application and the threats you want to mitigate. We recommend exploring all available options and selecting the rules that best fit your needs."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go back to the ",(0,s.jsx)(n.strong,{children:"WAF"})," service and select your Web ACL"]}),"\n",(0,s.jsx)(n.li,{children:"Review the metrics and statistics to verify that the rules are blocking unwanted traffic"}),"\n",(0,s.jsx)(n.li,{children:"You can create custom rules if you notice suspicious traffic"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"updating-rules",children:"Updating Rules"}),"\n",(0,s.jsx)(n.p,{children:"If you need to add or modify rules:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go to the AWS WAF console"}),"\n",(0,s.jsx)(n.li,{children:"Select your Web ACL"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Rules"})," and ",(0,s.jsx)(n.strong,{children:"Add rule"})," or ",(0,s.jsx)(n.strong,{children:"Edit rule"})]}),"\n",(0,s.jsx)(n.li,{children:"Save the changes and verify the traffic again"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"AWS WAF is a powerful tool to protect your application against malicious or unwanted traffic. With this basic configuration, you can block common bots and ensure that only legitimate traffic reaches your ALB."}),"\n",(0,s.jsx)(n.p,{children:"If you have more questions or need additional support, don't hesitate to ask for help!"})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},26393:()=>{},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var i=t(96540);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);