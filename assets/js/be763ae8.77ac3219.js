"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9856],{1923:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>h});var a=n(4848),r=n(8453),s=n(2644),o=n(9365),l=n(1470);const i={},u="AWS PostgreSQL",c={id:"dependency/postgresql-aws",title:"AWS PostgreSQL",description:"With Sleakops, you can easily integrate PostgreSQL databases using Amazon RDS, a managed database service that provides a robust and scalable solution for your relational data storage needs.",source:"@site/docs/dependency/postgresql-aws.mdx",sourceDirName:"dependency",slug:"/dependency/postgresql-aws",permalink:"/dependency/postgresql-aws",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"AWS OpenSearch",permalink:"/dependency/opensearch"},next:{title:"AWS Redis",permalink:"/dependency/redis"}},d={},h=[{value:"How to create a dump for PostgreSQL",id:"how-to-create-a-dump-for-postgresql",level:2},{value:"How to import a database dump to RDS",id:"how-to-import-a-database-dump-to-rds",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"aws-postgresql",children:"AWS PostgreSQL"})}),"\n",(0,a.jsx)(t.p,{children:"With Sleakops, you can easily integrate PostgreSQL databases using Amazon RDS, a managed database service that provides a robust and scalable solution for your relational data storage needs.\nThis integration ensures seamless deployment and management of PostgreSQL databases, allowing you to focus on your application development."}),"\n",(0,a.jsxs)(t.p,{children:["You can read more about those benefits in ",(0,a.jsxs)(t.a,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html#Welcome.Concepts.RDS",children:["AWS ",(0,a.jsx)(s.HaR,{})]}),"."]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsx)(t.p,{children:"Values and credentials for the next sections should be retrieved from Sleakops console on the edition page\nof the vargroups corresponding to the Dependency."})}),"\n",(0,a.jsx)(t.h2,{id:"how-to-create-a-dump-for-postgresql",children:"How to create a dump for PostgreSQL"}),"\n",(0,a.jsx)(t.p,{children:"There are multiple ways to create a dump for a PostgreSQL database."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pg_dump -h POSTGRESQL_ADDRESS -U POSTGRESQL_USERNAME -W > dump.sql \n"})}),"\n",(0,a.jsxs)(t.p,{children:["For more information on how to create a dump read the ",(0,a.jsxs)(t.a,{href:"https://www.postgresql.org/docs/current/app-pgdump.html",children:["official documentation",(0,a.jsx)(s.HaR,{})]}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"how-to-import-a-database-dump-to-rds",children:"How to import a database dump to RDS"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"../vpn/vpn_user_connection",children:"Connect to the VPN"})," of the account where the RDS is."]}),"\n",(0,a.jsx)(t.li,{children:"Connect to the database"}),"\n"]}),"\n",(0,a.jsxs)(l.A,{children:[(0,a.jsxs)(o.A,{value:"Using docker (Recommended)",children:[(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"A prerequisite to this method is to have the docker installed on your local machine."})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Run a container with the postgres image. The attached volume is the folder with your dump."}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker run -it --name postgresql-container -v ./initial_data/:/tmp/data/ -e POSTGRESQL_ROOT_USERNAME=POSTGRESQL_PASSWORD -d postgres bash\n"})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Attach to the terminal to run the pg_dump command"}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker exec -t -i postgresql-container bash\n"})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Run the following command replacing the values with the ones of your Dependency.\nTo view them from the console you should enter the edition section of the VarGroup for the Dependency."}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pg_dump -h POSTGRESQL_ADDRESS -U POSTGRESQL_USERNAME -W  < /tmp/data/dump.sql\n"})})]}),(0,a.jsxs)(o.A,{value:"Using local machine",children:[(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"A prerequisite to this method is to have PostgreSQL installed on your local machine."})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Simply run the following command replacing the values with the ones of your Dependency.\nTo view them from the console you should enter the edition section of the VarGroup for the Dependency."}),"\n"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pg_dump -h POSTGRESQL_ADDRESS -U POSTGRESQL_USERNAME -W < /tmp/data/dump.sql\n"})})]})]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},9365:(e,t,n)=>{n.d(t,{A:()=>o});n(6540);var a=n(8215);const r={tabItem:"tabItem_Ymn6"};var s=n(4848);function o(e){let{children:t,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,o),hidden:n,children:t})}},1470:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(6540),r=n(8215),s=n(3104),o=n(6347),l=n(205),i=n(7485),u=n(1682),c=n(679);function d(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}(n);return function(e){const t=(0,u.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,o.W6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i.aZ)(s),(0,a.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(r.location.search);t.set(s,e),r.replace({...r.location,search:t.toString()})}),[s,r])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,s=h(e),[o,i]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:s}))),[u,d]=m({queryString:n,groupId:r}),[f,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,s]=(0,c.Dv)(n);return[r,(0,a.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:r}),b=(()=>{const e=u??f;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{b&&i(b)}),[b]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),g(e)}),[d,g,s]),tabValues:s}}var g=n(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var S=n(4848);function v(e){let{className:t,block:n,selectedValue:a,selectValue:o,tabValues:l}=e;const i=[],{blockElementScrollPositionUntilNextRender:u}=(0,s.a_)(),c=e=>{const t=e.currentTarget,n=i.indexOf(t),r=l[n].value;r!==a&&(u(t),o(r))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=i.indexOf(e.currentTarget)+1;t=i[n]??i[0];break}case"ArrowLeft":{const n=i.indexOf(e.currentTarget)-1;t=i[n]??i[i.length-1];break}}t?.focus()};return(0,S.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:l.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,S.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>i.push(e),onKeyDown:d,onClick:c,...s,className:(0,r.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function x(e){let{lazy:t,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===s));return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,S.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function j(e){const t=f(e);return(0,S.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,S.jsx)(v,{...t,...e}),(0,S.jsx)(x,{...t,...e})]})}function y(e){const t=(0,g.A)();return(0,S.jsx)(j,{...e,children:d(e.children)},String(t))}}}]);