"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6864],{8153:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"domain/delegation","title":"Domain Delegation Guide","description":"Learn how to properly delegate DNS for each domain level in Sleakops.","source":"@site/docs/domain/delegation.mdx","sourceDirName":"domain","slug":"/domain/delegation","permalink":"/domain/delegation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Domain Delegation Guide"},"sidebar":"tutorialSidebar","previous":{"title":"Domain","permalink":"/domain/"},"next":{"title":"Setup your Domains","permalink":"/domain/setup"}}');var r=i(4848),a=i(8453);const l={sidebar_label:"Domain Delegation Guide"},o="Domain Delegation Guide",t={},d=[{value:"Overview",id:"overview",level:2},{value:"Provider Domain Delegation",id:"provider-domain-delegation",level:2},{value:"What you&#39;re delegating",id:"what-youre-delegating",level:3},{value:"Steps",id:"steps",level:3},{value:"Common Registrars",id:"common-registrars",level:3},{value:"Environment Domain Delegation",id:"environment-domain-delegation",level:2},{value:"What you&#39;re delegating",id:"what-youre-delegating-1",level:3},{value:"Two Scenarios",id:"two-scenarios",level:3},{value:"Scenario A: Parent domain IS managed by Sleakops",id:"scenario-a-parent-domain-is-managed-by-sleakops",level:4},{value:"Scenario B: Parent domain is NOT managed by sleakops",id:"scenario-b-parent-domain-is-not-managed-by-sleakops",level:4},{value:"Webservice Domain Configuration",id:"webservice-domain-configuration",level:2},{value:"What happens",id:"what-happens",level:3},{value:"Alias Domain Configuration",id:"alias-domain-configuration",level:2},{value:"Scenario A: Alias matches existing hosted zone",id:"scenario-a-alias-matches-existing-hosted-zone",level:3},{value:"For SSL Certificate Validation",id:"for-ssl-certificate-validation",level:4},{value:"For Traffic Routing",id:"for-traffic-routing",level:4},{value:"Scenario B: Alias doesn&#39;t match any hosted zone",id:"scenario-b-alias-doesnt-match-any-hosted-zone",level:3},{value:"For SSL Certificate",id:"for-ssl-certificate",level:4},{value:"For Traffic Routing",id:"for-traffic-routing-1",level:4},{value:"Verification Checklist",id:"verification-checklist",level:2},{value:"Provider/Environment Domain",id:"providerenvironment-domain",level:3},{value:"Webservice Domain",id:"webservice-domain",level:3},{value:"Alias Domain",id:"alias-domain",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Check Delegate&quot; fails",id:"check-delegate-fails",level:3},{value:"Certificate validation stuck",id:"certificate-validation-stuck",level:3},{value:"Domain not resolving",id:"domain-not-resolving",level:3},{value:"SSL certificate errors in browser",id:"ssl-certificate-errors-in-browser",level:3},{value:"DNS Propagation Time",id:"dns-propagation-time",level:2},{value:"Need Help?",id:"need-help",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"domain-delegation-guide",children:"Domain Delegation Guide"})}),"\n",(0,r.jsx)(n.p,{children:"Learn how to properly delegate DNS for each domain level in Sleakops."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"When Sleakops creates a hosted zone, you need to delegate the domain by updating DNS records at your domain provider (registrar). This guide explains the process for each domain level."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"provider-domain-delegation",children:"Provider Domain Delegation"}),"\n",(0,r.jsx)(n.h3,{id:"what-youre-delegating",children:"What you're delegating"}),"\n",(0,r.jsxs)(n.p,{children:["Your root domain (e.g., ",(0,r.jsx)(n.code,{children:"sleakops.com"}),") to AWS Route 53 via Sleakops."]}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant U as You\n    participant S as Sleakops\n    participant R as Domain Registrar\n    participant AWS as AWS Route 53\n    \n    U->>S: Create Provider Domain\n    S->>AWS: Create Hosted Zone\n    AWS--\x3e>S: Return 4 Nameservers\n    S--\x3e>U: Display Nameservers\n    U->>R: Update Nameservers\n    R->>AWS: Delegate DNS Authority\n    U->>S: Click "Check Delegate"\n    S->>AWS: Verify Delegation\n    AWS--\x3e>S: Confirmation\n    S--\x3e>U: \u2705 Delegation Complete'}),"\n",(0,r.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create the Provider domain in Sleakops"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sleakops creates a hosted zone in AWS Route 53"}),"\n",(0,r.jsx)(n.li,{children:"You'll see a table with 4 nameserver (NS) records"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Locate the nameservers"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ns-123.awsdns-12.com\nns-456.awsdns-45.net\nns-789.awsdns-78.org\nns-012.awsdns-01.co.uk\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Update your domain registrar"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Log into your domain registrar (GoDaddy, Namecheap, Google Domains, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Find the DNS or Nameserver settings"}),"\n",(0,r.jsx)(n.li,{children:"Replace existing nameservers with the 4 AWS nameservers from Sleakops"}),"\n",(0,r.jsx)(n.li,{children:"Save changes"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify delegation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Check Delegate"'})," button in Sleakops"]}),"\n",(0,r.jsx)(n.li,{children:"Wait for DNS propagation (can take up to 48 hours, usually faster)"}),"\n",(0,r.jsx)(n.li,{children:"Green checkmark indicates successful delegation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-registrars",children:"Common Registrars"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("strong",{children:"GoDaddy"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://account.godaddy.com/products",children:"Domain Manager"})]}),"\n",(0,r.jsx)(n.li,{children:"Click on your domain"}),"\n",(0,r.jsx)(n.li,{children:'Scroll to "Nameservers" \u2192 Click "Change"'}),"\n",(0,r.jsx)(n.li,{children:'Select "Enter my own nameservers (advanced)"'}),"\n",(0,r.jsx)(n.li,{children:"Add all 4 AWS nameservers"}),"\n",(0,r.jsx)(n.li,{children:"Save"}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("strong",{children:"Namecheap"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://ap.www.namecheap.com/domains/list/",children:"Domain List"})]}),"\n",(0,r.jsx)(n.li,{children:'Click "Manage" next to your domain'}),"\n",(0,r.jsx)(n.li,{children:'Select "Custom DNS" under Nameservers'}),"\n",(0,r.jsx)(n.li,{children:"Add all 4 AWS nameservers"}),"\n",(0,r.jsx)(n.li,{children:"Click the green checkmark"}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("strong",{children:"Cloudflare"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," If using Cloudflare, you must disable Cloudflare proxy for proper delegation."]}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Remove the domain from Cloudflare, OR"}),"\n",(0,r.jsx)(n.li,{children:"Update nameservers to AWS (removes Cloudflare DNS management)"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"environment-domain-delegation",children:"Environment Domain Delegation"}),"\n",(0,r.jsx)(n.h3,{id:"what-youre-delegating-1",children:"What you're delegating"}),"\n",(0,r.jsxs)(n.p,{children:["A subdomain (e.g., ",(0,r.jsx)(n.code,{children:"qa.sleakops.com"}),") to its own hosted zone."]}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant U as You\n    participant S as Sleakops\n    participant R as Domain Registrar\n    participant AWS as AWS Route 53\n    \n    U->>S: Create Provider Domain\n    S->>AWS: Create Hosted Zone\n    AWS--\x3e>S: Return 4 Nameservers\n    S--\x3e>U: Display Nameservers\n    U->>R: Update Nameservers\n    R->>AWS: Delegate DNS Authority\n    U->>S: Click "Check Delegate"\n    S->>AWS: Verify Delegation\n    AWS--\x3e>S: Confirmation\n    S--\x3e>U: \u2705 Delegation Complete'}),"\n",(0,r.jsx)(n.h3,{id:"two-scenarios",children:"Two Scenarios"}),"\n",(0,r.jsx)(n.h4,{id:"scenario-a-parent-domain-is-managed-by-sleakops",children:"Scenario A: Parent domain IS managed by Sleakops"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A[sleakops.com<br/>in Sleakops] --\x3e B[qa.sleakops.com<br/>in Sleakops]\n    B --\x3e C[\u2705 Automatic<br/>Delegation]\n    \n    style A fill:#201f1f,stroke:#90cdf4,stroke-width:2px\n    style B fill:#340f09,stroke:#594440,stroke-width:2px\n    style C fill:#1a202c,stroke:#2e7d32,stroke-width:2px"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Good news!"})," Sleakops automatically creates the NS records in the parent hosted zone."]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"No action needed"})," - delegation is automatic"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"scenario-b-parent-domain-is-not-managed-by-sleakops",children:"Scenario B: Parent domain is NOT managed by sleakops"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A[sleakops.com<br/>External DNS] -.-> B[qa.sleakops.com<br/>in Sleakops]\n    B --\x3e C[\u26a0\ufe0f Manual<br/>NS Records Required]\n    \n    style A fill:#594440,stroke:#c62828,stroke-width:2px\n    style B fill:#340f09,stroke:#594440,stroke-width:2px\n    style C fill:#1f2020,stroke:#e65100,stroke-width:2px"}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"sleakops.com"})," is managed outside Sleakops, but you want ",(0,r.jsx)(n.code,{children:"qa.sleakops.com"})," in Sleakops:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create the Environment domain in Sleakops"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sleakops creates a hosted zone"}),"\n",(0,r.jsx)(n.li,{children:"You'll see 4 nameserver records"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Add NS records to parent domain"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to wherever ",(0,r.jsx)(n.code,{children:"sleakops.com"})," DNS is managed (registrar, Cloudflare, etc.)"]}),"\n",(0,r.jsx)(n.li,{children:"Create 4 NS records for the subdomain:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Record Type: NS\nName: qa\nValue: ns-123.awsdns-12.com\nRecord Type: NS\nName: qa\nValue: ns-456.awsdns-45.net\n(repeat for all 4 nameservers)\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verify delegation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Check Delegate"'})," in Sleakops"]}),"\n",(0,r.jsx)(n.li,{children:"Wait for DNS propagation (usually 5-30 minutes)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"webservice-domain-configuration",children:"Webservice Domain Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"what-happens",children:"What happens"}),"\n",(0,r.jsxs)(n.p,{children:["Webservice domains (e.g., ",(0,r.jsx)(n.code,{children:"api.qa.sleakops.com"}),") are ",(0,r.jsx)(n.strong,{children:"automatically configured"}),"."]}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A[Deploy Webservice] --\x3e B[Sleakops Creates<br/>CNAME Record]\n    B --\x3e C[Points to ALB]\n    C --\x3e D[\u2705 Ready to Use]\n    \n    style A fill:#1a202c,stroke:#f2f2f2,stroke-width:2px\n    style B fill:#1a202c,stroke:#2e7d32,stroke-width:2px\n    style C fill:#1a202c,stroke:#2e7d32,stroke-width:2px\n    style D fill:#1a202c,stroke:#90cdf4,stroke-width:3px"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"No delegation needed"})," - Sleakops automatically:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Creates CNAME record in the environment's hosted zone"}),"\n",(0,r.jsx)(n.li,{children:"Points to the Application Load Balancer (ALB)"}),"\n",(0,r.jsx)(n.li,{children:"Configures SSL certificate"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"You don't need to do anything!"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"alias-domain-configuration",children:"Alias Domain Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Alias domains require manual DNS configuration at your domain provider."}),"\n",(0,r.jsx)(n.h3,{id:"scenario-a-alias-matches-existing-hosted-zone",children:"Scenario A: Alias matches existing hosted zone"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," Your alias is ",(0,r.jsx)(n.code,{children:"api.external.com"})," and you already have ",(0,r.jsx)(n.code,{children:"external.com"})," as a Provider or Environment in Sleakops."]}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant U as You\n    participant S as Sleakops\n    participant DNS as Your DNS (external.com)\n    participant ALB as AWS ALB\n    \n    U->>S: Create Alias: api.external.com\n    S--\x3e>U: Provide Certificate Validation Records\n    U->>DNS: Add Validation CNAME Records\n    DNS--\x3e>S: Certificate Validated \u2705\n    S--\x3e>U: Provide ALB Endpoint\n    U->>DNS: Add CNAME to ALB\n    DNS->>ALB: Traffic Routed\n    ALB--\x3e>U: Service Accessible"}),"\n",(0,r.jsx)(n.h4,{id:"for-ssl-certificate-validation",children:"For SSL Certificate Validation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sleakops provides validation records"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You'll see CNAME records for certificate validation"}),"\n",(0,r.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"_acme-challenge.api.external.com \u2192 _validation123.acme.aws.com\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add validation records to your DNS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to the hosted zone for ",(0,r.jsx)(n.code,{children:"external.com"})," (in Sleakops or wherever it's managed)"]}),"\n",(0,r.jsx)(n.li,{children:"Add the CNAME records exactly as shown"}),"\n",(0,r.jsx)(n.li,{children:"Wait for certificate validation (usually 5-15 minutes)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"for-traffic-routing",children:"For Traffic Routing"}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sleakops provides ALB endpoint"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You'll see the ALB DNS name:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ALB: my-alb-123456.us-east-1.elb.amazonaws.com\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create CNAME record"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to your DNS management for ",(0,r.jsx)(n.code,{children:"external.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a CNAME record:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Record Type: CNAME\nName: api\nValue: my-alb-123456.us-east-1.elb.amazonaws.com\nTTL: 300\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verify"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Test the domain: ",(0,r.jsx)(n.code,{children:"curl https://api.external.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Should return your service response"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"scenario-b-alias-doesnt-match-any-hosted-zone",children:"Scenario B: Alias doesn't match any hosted zone"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," Your alias is ",(0,r.jsx)(n.code,{children:"anything.com"})," and this domain is not managed in Sleakops."]}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant U as You\n    participant S as Sleakops\n    participant R as Registrar (anything.com)\n    participant ALB as AWS ALB\n    \n    U->>S: Create Alias: anything.com\n    S->>S: Create SSL Certificate\n    S--\x3e>U: Provide Validation Records\n    U->>R: Add Validation CNAME Records\n    R--\x3e>S: Certificate Validated \u2705\n    S--\x3e>U: Provide ALB Endpoint\n    U->>R: Add CNAME/A Record to ALB\n    R->>ALB: Traffic Routed\n    ALB--\x3e>U: Service Accessible"}),"\n",(0,r.jsx)(n.h4,{id:"for-ssl-certificate",children:"For SSL Certificate"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sleakops creates SSL certificate"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Certificate validation records are provided"}),"\n",(0,r.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"_acme-challenge.anything.com \u2192 _validation456.acme.aws.com"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add validation records"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Log into your domain provider for ",(0,r.jsx)(n.code,{children:"anything.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Add the CNAME records for certificate validation"}),"\n",(0,r.jsx)(n.li,{children:"Wait for validation (5-15 minutes)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"for-traffic-routing-1",children:"For Traffic Routing"}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Sleakops provides ALB endpoint"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"ALB: my-alb-789012.us-east-1.elb.amazonaws.com"}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configure DNS at your provider"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Option 1: CNAME (for subdomains)"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Record Type: CNAME\nName: www (or subdomain)\nValue: my-alb-789012.us-east-1.elb.amazonaws.com\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Option 2: A Record with ALIAS (for root domain)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Some providers support ALIAS records (Route 53, Cloudflare)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Record Type: A (ALIAS)\nName: @ (root)\nValue: my-alb-789012.us-east-1.elb.amazonaws.com\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Option 3: A Record with IP (not recommended)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Lookup ALB IPs and create A records"}),"\n",(0,r.jsx)(n.li,{children:"\u26a0\ufe0f IPs may change - use CNAME when possible"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verify"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Test: ",(0,r.jsx)(n.code,{children:"curl https://anything.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Ensure SSL certificate is valid"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"verification-checklist",children:"Verification Checklist"}),"\n",(0,r.jsx)(n.h3,{id:"providerenvironment-domain",children:"Provider/Environment Domain"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Nameservers updated at registrar"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'"Check Delegate" button shows success']}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","DNS lookup returns correct nameservers: ",(0,r.jsx)(n.code,{children:"dig NS yourdomain.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"webservice-domain",children:"Webservice Domain"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Webservice is deployed and running"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Domain resolves: ",(0,r.jsx)(n.code,{children:"curl https://api.qa.sleakops.com"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","SSL certificate is valid (no browser warnings)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","DNS lookup returns correct CNAME: ",(0,r.jsx)(n.code,{children:"dig CNAME api.qa.sleakops.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"alias-domain",children:"Alias Domain"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Certificate validation records added"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Certificate shows as validated in Sleakops"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","CNAME/A record points to ALB"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Domain resolves: ",(0,r.jsx)(n.code,{children:"curl https://your-alias.com"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","DNS lookup returns correct CNAME: ",(0,r.jsx)(n.code,{children:"dig CNAME your-alias.com"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","SSL certificate is valid"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"check-delegate-fails",children:'"Check Delegate" fails'}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TD\n    A[Check Delegate Fails] --\x3e B{All 4 Nameservers Added?}\n    B --\x3e|No| C[Add Missing Nameservers]\n    B --\x3e|Yes| D{Any Typos?}\n    D --\x3e|Yes| E[Fix Typos]\n    D --\x3e|No| F{Saved at Registrar?}\n    F --\x3e|No| G[Save Changes]\n    F --\x3e|Yes| H[Wait for Propagation<br/>up to 48 hours]\n    \n    C --\x3e I[Try Again]\n    E --\x3e I\n    G --\x3e I\n    H --\x3e I\n    \n    style A fill:#594440,stroke:#c62828,stroke-width:2px\n    style I fill:#1a202c,stroke:#f2f2f2,stroke-width:2px"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Issue:"})," Nameservers not properly delegated"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify you added ALL 4 nameservers"}),"\n",(0,r.jsx)(n.li,{children:"Check for typos in nameserver values"}),"\n",(0,r.jsx)(n.li,{children:"Wait longer (DNS propagation can take up to 48 hours)"}),"\n",(0,r.jsxs)(n.li,{children:["Clear DNS cache: ",(0,r.jsx)(n.code,{children:"dig @8.8.8.8 yourdomain.com"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify at registrar that changes were saved"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"certificate-validation-stuck",children:"Certificate validation stuck"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Issue:"})," SSL certificate not validating"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify CNAME records are added correctly (no extra dots, correct values)"}),"\n",(0,r.jsx)(n.li,{children:"Check TTL hasn't expired"}),"\n",(0,r.jsx)(n.li,{children:"Remove any conflicting DNS records"}),"\n",(0,r.jsx)(n.li,{children:"Wait 15-30 minutes for DNS propagation"}),"\n",(0,r.jsxs)(n.li,{children:["Check DNS: ",(0,r.jsx)(n.code,{children:"dig _acme-challenge.yourdomain.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"domain-not-resolving",children:"Domain not resolving"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Issue:"})," Domain doesn't load your service"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify CNAME/A record points to correct ALB endpoint"}),"\n",(0,r.jsx)(n.li,{children:"Check ALB is healthy and receiving traffic"}),"\n",(0,r.jsx)(n.li,{children:"Verify webservice is deployed and running"}),"\n",(0,r.jsxs)(n.li,{children:["Test with ",(0,r.jsx)(n.code,{children:"curl -v https://yourdomain.com"})," for detailed errors"]}),"\n",(0,r.jsx)(n.li,{children:"Check security groups allow traffic on port 443"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ssl-certificate-errors-in-browser",children:"SSL certificate errors in browser"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Issue:"}),' Browser shows "Not Secure" or certificate warnings']}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify certificate is validated in Sleakops"}),"\n",(0,r.jsx)(n.li,{children:"Check certificate includes your domain name"}),"\n",(0,r.jsx)(n.li,{children:"Clear browser cache"}),"\n",(0,r.jsx)(n.li,{children:"Verify correct certificate is attached to ALB listener"}),"\n",(0,r.jsx)(n.li,{children:"Check certificate hasn't expired"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"dns-propagation-time",children:"DNS Propagation Time"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Change Type"}),(0,r.jsx)(n.th,{children:"Typical Time"}),(0,r.jsx)(n.th,{children:"Maximum Time"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Nameserver update"}),(0,r.jsx)(n.td,{children:"15-30 minutes"}),(0,r.jsx)(n.td,{children:"48 hours"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CNAME record"}),(0,r.jsx)(n.td,{children:"5-15 minutes"}),(0,r.jsx)(n.td,{children:"24 hours"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"A record"}),(0,r.jsx)(n.td,{children:"5-15 minutes"}),(0,r.jsx)(n.td,{children:"24 hours"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Certificate validation"}),(0,r.jsx)(n.td,{children:"5-15 minutes"}),(0,r.jsx)(n.td,{children:"30 minutes"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,r.jsx)(n.strong,{children:"Tip:"})," Use ",(0,r.jsx)(n.code,{children:"https://dnschecker.org"})," to check DNS propagation globally"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.a,{href:"/domain/",children:"Domain Levels & Strategies"})]}),"\n",(0,r.jsx)(n.li,{children:"Contact Sleakops support with your domain configuration details"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);