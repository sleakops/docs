---
id: networking-y-recursos-de-red
title: Networking y Recursos de Red
sidebar_label: Networking y Recursos de Red
sidebar_position: 9
---
import Zoom from "react-medium-image-zoom";

# Networking y Recursos de Red

Esta documentaciÃ³n tiene como objetivo brindar una visiÃ³n clara y sencilla de la arquitectura de red que SleakOps despliega en los entornos de los clientes. AquÃ­ encontrarÃ¡s cÃ³mo se organiza la red, cÃ³mo se protegen los recursos y cÃ³mo se facilita la comunicaciÃ³n tanto interna como externa.

> â“ **Nota**: La red estÃ¡ diseÃ±ada para garantizar seguridad, escalabilidad y alta disponibilidad. Permite separar ambientes, proteger datos sensibles y exponer servicios de manera controlada y segura.

## 1. DescripciÃ³n general de la arquitectura

La infraestructura de red en SleakOps se basa en los siguientes componentes principales:

- **VPC (Virtual Private Cloud):** Segmenta la red por entorno (Management, Production, Development).
- **Subredes:**
  - *PÃºblicas:* expuestas a Internet.
  - *Privadas:* acceso restringido, acceden a Internet a travÃ©s de un NAT Gateway.
  - *Persistencia:* bases de datos, almacenamiento.
- **Internet Gateway:** Permite la comunicaciÃ³n entre la VPC y el exterior (Internet).
- **Route Tables:** Definen las rutas de trÃ¡fico entre subredes y hacia/desde Internet.
- **Security Groups:** Firewalls virtuales que controlan el trÃ¡fico de entrada y salida de los recursos.
- **DNS Interno:** Permite que los recursos se comuniquen usando nombres en vez de IPs.
- **External-DNS:** Servicio que corre dentro de cada clÃºster Kubernetes (EKS), encargado de gestionar automÃ¡ticamente los registros DNS pÃºblicos en Route53 para los servicios expuestos desde el clÃºster.

## 2. Flujo tÃ­pico de comunicaciÃ³n

El siguiente es un ejemplo de cÃ³mo viaja el trÃ¡fico en la red de SleakOps:

1. **Acceso desde Internet:**  
   Un usuario accede a un servicio expuesto (por ejemplo, una API). El trÃ¡fico llega al Internet Gateway y es dirigido a la subred pÃºblica.

2. **Control de acceso:**  
   El Security Group asociado al recurso valida si la conexiÃ³n estÃ¡ permitida.

3. **ComunicaciÃ³n interna:**  
   Los servicios internos (en subredes privadas o de persistencia) pueden comunicarse entre sÃ­ usando el DNS interno, siempre bajo las reglas de los Security Groups.

4. **ExposiciÃ³n de servicios:**  
   Si un servicio dentro del clÃºster Kubernetes debe ser accesible desde Internet (por ejemplo, una API), se expone a travÃ©s de un Application Load Balancer y External-DNS se encarga de registrar automÃ¡ticamente el nombre en Route53.

> Esta segmentaciÃ³n y control aseguran que solo los servicios necesarios sean expuestos y que los datos sensibles permanezcan protegidos.

<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
  <img
    src="/img/network/sleakops-network.png"
    alt="reference-architecture"
  />
</Zoom>

## 3. External-DNS y Route53

Se utiliza una soluciÃ³n automatizada para gestionar los registros DNS pÃºblicos de los servicios desplegados, integrando la infraestructura con servicios de DNS externos como Route53.

- External-DNS **no expone servicios directamente**, sino que automatiza la gestiÃ³n de registros DNS pÃºblicos para recursos ya expuestos (por ejemplo, mediante un Application Load Balancer).
- Esto permite que los servicios sean accesibles de forma segura y sencilla desde Internet.

## 4. Conectividad entre entornos mediante VPC Peering

Para permitir la comunicaciÃ³n controlada entre entornos (por ejemplo, entre Management y Production), SleakOps configura **conexiones VPC Peering** de manera explÃ­cita entre las VPCs de los distintos entornos.

- Un **VPC Peering** permite que dos VPCs puedan intercambiar trÃ¡fico interno como si estuvieran en la misma red.
- **No requiere** pasar por Internet, NAT Gateway ni VPN.
- Es una conexiÃ³n directa entre dos redes.

> ðŸ’¡ AdemÃ¡s del acceso mediante Internet Gateway, SleakOps contempla otros mecanismos de conectividad como **Pritunl VPN**, **NAT Gateway** y **Transit Gateway**, dependiendo del caso de uso y el nivel de aislamiento requerido.

