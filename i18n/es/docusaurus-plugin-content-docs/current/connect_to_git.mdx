---
sidebar_label: Conectar a Git
sidebar_position: 8
---



import Zoom from "react-medium-image-zoom";
import "react-medium-image-zoom/dist/styles.css";
import { FiExternalLink } from "react-icons/fi";

# Conectar tu Cuenta Git

Para aprovechar todo el potencial de SleakOps, necesitarás conectar tu cuenta Git a nuestra plataforma. Esta conexión permite a SleakOps acceder a tus repositorios, habilitando una integración perfecta, despliegues automatizados y una gestión eficiente de tus bases de código.

SleakOps soporta integración con los siguientes proveedores Git:
- Github
- GitLab (incluidas instancias autohospedadas)
- Bitbucket

## Preguntas Frecuentes

<details>
<summary>
### ¿Puedo conectar más de una Cuenta Git?**
</summary>
Aún no está permitido.
</details>

<details>
<summary>
### ¿Cómo conecto mi cuenta?
</summary>
Accede a la sección *Configuración >> Autorizaciones* en SleakOps. Selecciona tu proveedor y concede acceso a SleakOps. Consulta los pasos a continuación.
</details>

<details>
<summary>
### ¿Puedo cambiar mi Cuenta Git?
</summary>
Sí, puedes hacerlo eliminando la existente y conectando la nueva. Asegúrate de que la nueva cuenta tenga acceso a los proyectos que usas en SleakOps. 
</details>


<details>
<summary>
### ¿Cómo desconecto una cuenta?
</summary>
Haciendo clic en el botón X junto al proveedor Git. Ten en cuenta que los proyectos actuales continuarán funcionando, pero no podrán recibir actualizaciones una vez que se elimine esta integración.

Si estás usando GitHub, también necesitarás eliminar la aplicación Sleakops de tu cuenta de GitHub para completar el proceso de eliminación.
</details>

## Integraciones

<details>
<summary>
### Github
</summary>
<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
<img
    src="/img/project/git/setup-github.png"
    alt="configurar-github"
/>
</Zoom>
</details>

<details>
<summary>
### Gitlab
</summary>
<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
<img
    src="/img/project/git/setup-gitlab.png"
    alt="configurar-gitlab"
/>
</Zoom>
</details>

<details>
<summary>
### Bitbucket
</summary>
<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
<img
    src="/img/project/git/setup-bitbucket.png"
    alt="configurar-bitbucket"
/>
</Zoom>
</details>

<details>
<summary>
### GitLab Autohospedado
</summary>

Conectar una instancia de GitLab autohospedada requiere crear una aplicación OAuth en tu instalación de GitLab, ya que cada instancia autohospedada tiene una URL y sistema de autenticación únicos.

#### Requisitos Previos

- Acceso de administrador a tu instancia de GitLab autohospedada
- Tu instancia de GitLab debe ser accesible desde internet (SleakOps necesita comunicarse con ella)
- Se recomienda encarecidamente usar HTTPS por seguridad

#### Paso 1: Crear una Aplicación OAuth en Tu Instancia de GitLab

1. **Acceder a la página de Aplicaciones**
   - Navega a tu instancia de GitLab: `https://tugitlab.com/-/profile/applications`
   - O ve a: Configuración de Usuario → Aplicaciones

2. **Crear una nueva aplicación**
   - Haz clic en "Agregar nueva aplicación" o "Nueva aplicación"
   - Completa la siguiente información:

| **Campo** | **Valor** |
|-----------|----------|
| **Nombre** | SleakOps (o cualquier nombre descriptivo) |
| **URI de Redirección** | https://api.sleakops.com/api/integrations/self-gitlab/callback/ |
| **Ámbitos** | Selecciona `api` y `offline_access` (requeridos para acceso persistente y renovación automática de tokens) |

:::warning
La URI de Redirección debe ser **exactamente** como se muestra a continuación (incluyendo la barra final):
```
https://api.sleakops.com/api/integrations/self-gitlab/callback/
```
No modifiques esta URL.
:::

3. **Guardar la aplicación**
   - Haz clic en "Guardar aplicación" o "Enviar"
   - Se te mostrarán dos valores importantes:
     - **ID de Aplicación** (Client ID)
     - **Secreto** (Client Secret)

:::caution
Copia inmediatamente el ID de Aplicación y el Secreto. El Secreto solo se mostrará una vez y no podrá recuperarse después.
:::

:::tip
Guarda estas credenciales de forma segura. Si pierdes el Secreto, necesitarás regenerar la aplicación OAuth.
:::

#### Paso 2: Conectar Tu GitLab Autohospedado a SleakOps

1. **Navegar a Autorizaciones de SleakOps**
   - Inicia sesión en tu [cuenta de SleakOps](https://console.sleakops.com/settings/authorizations/)
   - Ve a Configuración → Autorizaciones

2. **Seleccionar GitLab Autohospedado**
   - Haz clic en la opción de integración "GitLab Autohospedado"

3. **Ingresar los detalles de tu aplicación OAuth**
   - **URL de Instancia GitLab**: Ingresa la URL de tu instancia de GitLab (ej., `https://gitlab.tuempresa.com`)
     - No incluyas una barra final
     - Debe comenzar con `http://` o `https://`
   - **ID de Aplicación**: Pega el ID de Aplicación del Paso 1
   - **Secreto de Aplicación**: Pega el Secreto del Paso 1

4. **Autorizar SleakOps**
   - Haz clic en "Conectar" o "Autorizar"
   - Serás redirigido a tu instancia de GitLab
   - Revisa los permisos y haz clic en "Autorizar"
   - Serás redirigido de vuelta a SleakOps

5. **Verificar la conexión**
   - Una vez redirigido, deberías ver tu cuenta de GitLab autohospedada listada como conectada
   - Ahora puedes seleccionar repositorios de tu instancia de GitLab autohospedada al crear proyectos

#### ¿Qué permisos necesita SleakOps?

SleakOps requiere dos ámbitos:

**Ámbito `api`** otorga los siguientes permisos:
- Leer información del repositorio y contenido de archivos
- Crear y administrar ramas
- Crear y actualizar archivos (para despliegues automatizados)
- Crear merge requests
- Acceder a información de commits

**Ámbito `offline_access`** permite a SleakOps:
- Obtener un refresh token para acceso a largo plazo
- Renovar automáticamente tokens de acceso expirados
- Mantener conexión persistente sin requerir re-autorización

:::warning
Sin `offline_access`, el token de acceso expirará después de ~2 horas y la integración se romperá hasta ser re-autorizada manualmente.
:::

Estos permisos son necesarios para que SleakOps pueda clonar tus repositorios, construir imágenes de contenedores, desplegar aplicaciones y administrar infraestructura como código.

#### Solución de Problemas

##### La conexión falla con error "URL Inválida"
- Asegúrate de que la URL de tu instancia de GitLab no termine con una barra final
- Verifica que la URL comience con `http://` o `https://`
- Ejemplo: ✅ `https://gitlab.empresa.com` ❌ `https://gitlab.empresa.com/`

##### La autorización redirige pero la conexión falla
- Verifica que la URI de Redirección en tu aplicación OAuth de GitLab coincida exactamente: `https://api.sleakops.com/api/integrations/self-gitlab/callback/`
- Verifica que el ID de Aplicación y el Secreto sean correctos
- Asegúrate de que ambos ámbitos `api` y `offline_access` fueron seleccionados al crear la aplicación OAuth

##### Problemas de Red/Firewall
- Asegúrate de que tu instancia de GitLab autohospedada sea accesible desde los servidores de SleakOps
- Si tu GitLab está detrás de un firewall, podrías necesitar agregar las direcciones IP de SleakOps a la lista blanca
- Contacta al soporte de SleakOps para información sobre las IP de la lista blanca

##### Errores de SSL/Certificado
- Los certificados autofirmados pueden causar problemas de conexión
- Usa un certificado SSL válido de una autoridad certificadora confiable
- Asegúrate de que tu instancia de GitLab tenga una configuración HTTPS adecuada

</details>

## Configurar tu Cuenta Git
### 1. Navega a la sección de autorización de Git
En el Panel Izquierdo, accede a la opción _Configuración_ y luego haz clic en _Autorizaciones_.

<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
<img
    src="/img/project/git/git-authorization-list.png"
    alt="lista-autorizaciones-git"
/>
</Zoom>

### 2. Selecciona tu Proveedor Git y concede acceso a SleakOps
Haz clic en tu proveedor y sigue los pasos requeridos para cada uno para conceder acceso.

<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
<img
    src="/img/project/git/git-authorization-list-raw.png"
    alt="lista-autorizaciones-git-raw"
/>
</Zoom>

