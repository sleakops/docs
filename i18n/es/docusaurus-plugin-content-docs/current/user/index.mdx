import Zoom from "react-medium-image-zoom";
import "react-medium-image-zoom/dist/styles.css";
import { FiExternalLink } from "react-icons/fi";

# Usuarios

La gestión de usuarios en SleakOps te permite controlar el acceso a tu infraestructura y características de la plataforma. Esta sección cubre cómo crear y gestionar usuarios con diferentes niveles de permisos, configurar su acceso a cuentas AWS y servicios VPN, y entender los diversos tipos de usuarios que interactúan con tu entorno SleakOps.

## Creación de usuarios

Sleakops tiene tres campos fundamentales de permisos de usuario:

### Roles de Usuario

**Role**: Define lo que el usuario puede hacer dentro de SleakOps, y está dividido en tres roles: 'Admin', 'Editor' y 'Read Only'.

#### Viewer (Solo Lectura)
- **Objetivo**: Proporcionar acceso de solo lectura para monitorear y revisar la infraestructura sin realizar cambios
- **Alcance**: 
  - Ver todos los proyectos, clusters y recursos
  - Acceder a dashboards de monitoreo y logs
  - Revisar historial de despliegues y configuraciones
  - No puede crear, modificar o eliminar recursos
- **Política AWS IAM**: [ReadOnlyAccess <FiExternalLink/>](https://docs.aws.amazon.com/aws-managed-policy/latest/reference/ReadOnlyAccess.html)
- **Ejemplos**: 
  - Ingenieros DevOps que necesitan monitorear entornos de producción
  - Auditores de seguridad revisando el cumplimiento de infraestructura
  - Líderes de equipo que necesitan visibilidad del estado de los proyectos

#### Editor (Usuario Avanzado)
- **Objetivo**: Habilitar capacidades de gestión de infraestructura y despliegue manteniendo límites de seguridad
- **Alcance**:
  - Crear y gestionar proyectos, clusters y cargas de trabajo
  - Desplegar aplicaciones y gestionar recursos de infraestructura
  - Configurar entornos, dependencias y redes
  - No puede gestionar otros usuarios ni acceder a todas las cuentas por defecto
- **Política AWS IAM**: [PowerUserAccess <FiExternalLink/>](https://docs.aws.amazon.com/aws-managed-policy/latest/reference/PowerUserAccess.html)
- **Ejemplos**:
  - Desarrolladores senior desplegando aplicaciones
  - Ingenieros DevOps gestionando infraestructura
  - Miembros del equipo responsables de despliegues de proyectos específicos

#### Admin (Administrador)
- **Objetivo**: Proporcionar control completo de la plataforma incluyendo gestión de usuarios y acceso entre cuentas
- **Alcance**:
  - Todas las capacidades de Editor más gestión de usuarios
  - Crear, modificar y eliminar cuentas de usuario
  - Asignar roles y permisos a otros usuarios
  - Acceso a todas las cuentas AWS sin restricciones
  - Gestión de configuración y configuraciones de la plataforma
- **Política AWS IAM**: [AdministratorAccess <FiExternalLink/>](https://docs.aws.amazon.com/aws-managed-policy/latest/reference/AdministratorAccess.html)
- **Ejemplos**:
  - Administradores de plataforma
  - Líderes de equipo gestionando múltiples proyectos
  - Gerentes DevOps con responsabilidades entre equipos

### Configuración de Acceso

**AWS Account Accesses**: Este campo muestra todas las cuentas, aquí seleccionas a qué cuentas el usuario (Editor o Read-only) tendrá acceso.

**VPN Account Accesses**: Es similar al campo de accesos a cuentas de AWS, pero aquí defines si el usuario también será creado en el servidor VPN de la cuenta que le otorgues. Más información se puede consultar en la [documentación de VPN](/user/vpn.mdx).

## Usuarios Sin Acceso a SleakOps

Algunos usuarios en tu organización pueden no tener acceso directo a la plataforma SleakOps pero aún interactúan con la infraestructura:

### Colaboradores Externos
- **Escenario**: Contratistas o consultores externos que necesitan acceso temporal a recursos específicos de AWS
- **Método de Acceso**: Acceso directo a la consola de AWS con permisos IAM limitados
- **Gestión**: Manejado a través de AWS IAM directamente, no a través de la gestión de usuarios de SleakOps

### Cuentas de Servicio
- **Escenario**: Sistemas automatizados, pipelines de CI/CD o aplicaciones que necesitan acceso programático
- **Método de Acceso**: Roles IAM y cuentas de servicio con políticas específicas
- **Gestión**: Configurado a través de AWS IAM o cuentas de servicio de Kubernetes

### Observadores de Solo Lectura
- **Escenario**: Stakeholders que necesitan visibilidad de costos y uso de infraestructura sin acceso operacional
- **Método de Acceso**: AWS Cost Explorer, dashboards de CloudWatch o herramientas de reportes personalizadas
- **Gestión**: Solo permisos de facturación y monitoreo de AWS

### Acceso de Emergencia
- **Escenario**: Acceso de emergencia para situaciones críticas cuando SleakOps no está disponible
- **Método de Acceso**: Cuenta root de AWS directa o usuarios IAM de emergencia
- **Gestión**: Acceso manual a la consola de AWS con privilegios administrativos completos

<Zoom overlayBgColorEnd="rgba(255, 255, 255, 0.8)">
  <img src="/img/users/USER-creation-form.png" alt="USER-creation-form" />
</Zoom>

Para el acceso a las cuentas de AWS, SleakOps inicialmente establece una contraseña aleatoria y la envía al correo electrónico del usuario creado. El usuario puede iniciar sesión con esa contraseña, pero se le obligará a cambiarla en su primer inicio de sesión. Para el acceso a la plataforma SleakOps, utilizamos la contraseña configurada en el formulario de usuario.

Después de la creación de este usuario, se creará un Usuario de AWS en la cuenta 'security', que es donde controlamos los accesos a todas las cuentas de AWS de SleakOps. También crearemos, dependiendo de la configuración, usuarios en los servidores VPN; consulta cómo usarlos en la correspondiente [documentación](/user/vpn.mdx) y en la sección de usuarios de SleakOps.