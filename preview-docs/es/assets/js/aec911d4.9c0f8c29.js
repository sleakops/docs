"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5135],{67939:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>L,contentTitle:()=>q,default:()=>D,frontMatter:()=>O,metadata:()=>s,toc:()=>P});const s=JSON.parse('{"id":"cli","title":"CLI","description":"Optimiza tu CI/CD con la CLI de SleakOps","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/cli.mdx","sourceDirName":".","slug":"/cli","permalink":"/preview-docs/es/docs/cli","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_label":"CLI de Sleakops","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Conexi\xf3n a la VPN","permalink":"/preview-docs/es/docs/user/vpn"},"next":{"title":"Conectar a Git","permalink":"/preview-docs/es/docs/connect_to_git"}}');var r=a(74848),i=a(28453),t=a(42644),l=a(96540),o=a(18215),c=a(17559),u=a(23104),d=a(56347),p=a(205),m=a(57485),h=a(31682),b=a(70679);function g(e){return l.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function f(e){const{values:n,children:a}=e;return(0,l.useMemo)((()=>{const e=n??function(e){return g(e).map((({props:{value:e,label:n,attributes:a,default:s}})=>({value:e,label:n,attributes:a,default:s})))}(a);return function(e){const n=(0,h.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function j({value:e,tabValues:n}){return n.some((n=>n.value===e))}function x({queryString:e=!1,groupId:n}){const a=(0,d.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,m.aZ)(s),(0,l.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function v(e){const{defaultValue:n,queryString:a=!1,groupId:s}=e,r=f(e),[i,t]=(0,l.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!j({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[o,c]=x({queryString:a,groupId:s}),[u,d]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,s]=(0,b.Dv)(n);return[a,(0,l.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:s}),m=(()=>{const e=o??u;return j({value:e,tabValues:r})?e:null})();(0,p.A)((()=>{m&&t(m)}),[m]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!j({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);t(e),c(e),d(e)}),[c,d,r]),tabValues:r}}var y=a(92303);const C={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k({className:e,block:n,selectedValue:a,selectValue:s,tabValues:i}){const t=[],{blockElementScrollPositionUntilNextRender:l}=(0,u.a_)(),c=e=>{const n=e.currentTarget,r=t.indexOf(n),o=i[r].value;o!==a&&(l(n),s(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=t.indexOf(e.currentTarget)+1;n=t[a]??t[0];break}case"ArrowLeft":{const a=t.indexOf(e.currentTarget)-1;n=t[a]??t[t.length-1];break}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:i.map((({value:e,label:n,attributes:s})=>(0,r.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{t.push(e)},onKeyDown:d,onClick:c,...s,className:(0,o.A)("tabs__item",C.tabItem,s?.className,{"tabs__item--active":a===e}),children:n??e},e)))})}function I({lazy:e,children:n,selectedValue:a}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===a));return e?(0,l.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function S(e){const n=v(e);return(0,r.jsxs)("div",{className:(0,o.A)(c.G.tabs.container,"tabs-container",C.tabList),children:[(0,r.jsx)(k,{...n,...e}),(0,r.jsx)(I,{...n,...e})]})}function A(e){const n=(0,y.A)();return(0,r.jsx)(S,{...e,children:g(e.children)},String(n))}const E={tabItem:"tabItem_Ymn6"};function w({children:e,hidden:n,className:a}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(E.tabItem,a),hidden:n,children:e})}const O={sidebar_label:"CLI de Sleakops",sidebar_position:8},q="CLI",L={},P=[{value:"Optimiza tu CI/CD con la CLI de SleakOps",id:"optimiza-tu-cicd-con-la-cli-de-sleakops",level:2},{value:"1. Autenticaci\xf3n",id:"1-autenticaci\xf3n",level:3},{value:"2. Crear un Build",id:"2-crear-un-build",level:3},{value:"3. Realizar un Despliegue",id:"3-realizar-un-despliegue",level:3},{value:"Ejemplos de CI/CD",id:"ejemplos-de-cicd",level:2}];function _(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cli",children:"CLI"})}),"\n",(0,r.jsx)(n.h2,{id:"optimiza-tu-cicd-con-la-cli-de-sleakops",children:"Optimiza tu CI/CD con la CLI de SleakOps"}),"\n",(0,r.jsx)(n.p,{children:"La CLI de SleakOps es un paquete de Python dise\xf1ado para simplificar tus flujos de trabajo de CI/CD.\nCon solo dos subcomandos sencillos, puedes crear compilaciones y desplegar tus aplicaciones con facilidad, garantizando un proceso de desarrollo fluido y eficiente.\nPara comenzar, simplemente instala SleakOps usando pip:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"pip install sleakops\n"})}),"\n",(0,r.jsx)(n.h3,{id:"1-autenticaci\xf3n",children:"1. Autenticaci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["Para autenticarte con el SleakOps CLI, necesitas una API_KEY. Puedes obtener esta clave desde la ",(0,r.jsxs)(n.a,{href:"https://console.sleakops.com/settings/apikey",children:["consola ",(0,r.jsx)(t.HaR,{})]})," haciendo clic en Generar API-Key.\nCada empresa puede tener solo una API_KEY activa a la vez. Si solicitas una nueva API_KEY, la antigua ser\xe1 revocada autom\xe1ticamente. En la p\xe1gina se muestran las claves de la empresa y qui\xe9n las gener\xf3."]}),"\n",(0,r.jsx)(n.p,{children:"Una vez que tengas tu API_KEY, puedes usarla como argumento al ejecutar comandos de SleakOps o configurarla como una variable de entorno llamada SLEAKOPS_KEY."}),"\n",(0,r.jsxs)(n.admonition,{title:"Configurando SLEAKOPS_KEY en Pipelines de CI/CD",type:"tip",children:[(0,r.jsx)(n.p,{children:"Para pipelines de CI/CD, se recomienda configurar SLEAKOPS_KEY como una variable de entorno secreta en tu proveedor de Git:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub"}),": Agr\xe9gala como un secreto de repositorio en Settings \u2192 Secrets and variables \u2192 Actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitLab"}),": Agr\xe9gala como una variable de CI/CD en Settings \u2192 CI/CD \u2192 Variables"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bitbucket"}),": Agr\xe9gala como una variable de repositorio en Repository settings \u2192 Pipelines \u2192 Repository variables"]}),"\n"]}),(0,r.jsx)(n.p,{children:"Esto asegura el acceso seguro a los servicios de SleakOps sin exponer tu clave API en los archivos de configuraci\xf3n de tu pipeline."})]}),"\n",(0,r.jsx)(n.h3,{id:"2-crear-un-build",children:"2. Crear un Build"}),"\n",(0,r.jsx)(n.p,{children:"Para crear una compilaci\xf3n de tu aplicaci\xf3n, usa el siguiente comando:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sleakops build [options]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Este comando inicia el proceso de compilaci\xf3n, y SleakOps se encarga de compilar tu c\xf3digo, ejecutar pruebas y empaquetar la aplicaci\xf3n para su despliegue. Puedes especificar opciones adicionales para adaptar el proceso de compilaci\xf3n a tus necesidades espec\xedficas."}),"\n",(0,r.jsxs)(n.p,{children:["Hay dos argumentos obligatorios: ",(0,r.jsx)(n.strong,{children:"project"})," y ",(0,r.jsx)(n.strong,{children:"branch"}),", que se utilizan para saber qu\xe9 compilar.\nAdem\xe1s, puedes a\xf1adir un ",(0,r.jsx)(n.strong,{children:"commit"})," para compilar un commit anterior, una ",(0,r.jsx)(n.strong,{children:"tag"})," para la imagen y el ",(0,r.jsx)(n.em,{children:"proveedor"})," si necesitas especificarlo."]}),"\n",(0,r.jsx)(n.p,{children:"Como se mencion\xf3 anteriormente, la clave puede ser un entrada aqu\xed o una variable de entorno."}),"\n",(0,r.jsxs)(n.p,{children:["Tambi\xe9n puedes indicar si quieres que el proceso ",(0,r.jsx)(n.strong,{children:"espere"})," a que la compilaci\xf3n termine o no."]}),"\n",(0,r.jsxs)(n.admonition,{title:"DockerArgs desde CLI",type:"tip",children:[(0,r.jsxs)(n.p,{children:["Tambi\xe9n puedes definir DockerArgs cuando uses la CLI de SleakOps para builds. Usa el par\xe1metro ",(0,r.jsx)(n.code,{children:"--docker-args"})," para pasar argumentos de construcci\xf3n directamente desde la l\xednea de comandos:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'sleakops build -p myproject -b main --docker-args "ARG1=value1,ARG2=value2"\n'})}),(0,r.jsx)(n.p,{children:"Esto es particularmente \xfatil para pipelines de CI/CD donde quieres pasar diferentes argumentos basados en el entorno o contexto de construcci\xf3n."})]}),"\n",(0,r.jsx)(n.h3,{id:"3-realizar-un-despliegue",children:"3. Realizar un Despliegue"}),"\n",(0,r.jsx)(n.p,{children:"Una vez que tu compilaci\xf3n est\xe9 lista, puedes desplegar tu aplicaci\xf3n f\xe1cilmente usando el siguiente comando:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sleakops deploy [options]\n"})}),"\n",(0,r.jsx)(n.p,{children:"SleakOps gestiona de manera transparente el proceso de despliegue, asegurando que tu aplicaci\xf3n est\xe9 en funcionamiento en poco tiempo. Puedes especificar opciones de despliegue para ajustar el proceso seg\xfan tus requisitos."}),"\n",(0,r.jsxs)(n.p,{children:["Aqu\xed, ",(0,r.jsx)(n.strong,{children:"project"})," y ",(0,r.jsx)(n.strong,{children:"environment"})," son los argumentos obligatorios. El usuario puede a\xf1adir una ",(0,r.jsx)(n.strong,{children:"build"})," o ",(0,r.jsx)(n.strong,{children:"tag"})," de imagen para especificar una imagen. Aqu\xed tambi\xe9n est\xe1n presentes las opciones de ",(0,r.jsx)(n.strong,{children:"wait"})," y ",(0,r.jsx)(n.strong,{children:"key"}),", su uso es el mismo que en el comando de compilaci\xf3n."]}),"\n",(0,r.jsx)(n.h2,{id:"ejemplos-de-cicd",children:"Ejemplos de CI/CD"}),"\n",(0,r.jsx)(n.p,{children:"Con la CLI de SleakOps, puedes integrar tus tuber\xedas de CI/CD, automatizar el proceso de compilaci\xf3n y despliegue, y concentrarte en entregar aplicaciones excepcionales sin la molestia de intervenci\xf3n manual.\nDisfruta de una experiencia de desarrollo fluida con SleakOps y crea flujos de trabajo de CI/CD personalizados."}),"\n",(0,r.jsxs)(A,{children:[(0,r.jsx)(w,{value:"GitHub",children:(0,r.jsx)("code",{children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"name: Deploy\n\non:\n  push:\n      branches:\n      - main\njobs:\n  build:\n      runs-on: ubuntu-latest\n      steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Install SleakOps CLI\n        run: pip install sleakops\n\n      - name: Run SleakOps build\n        env:\n          SLEAKOPS_KEY: ${{ secrets.SLEAKOPS_KEY }}\n        run: sleakops build -p core -b main -w\n  deploy:\n      needs: [build]\n      runs-on: ubuntu-latest\n      steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Install SleakOps CLI\n        run: pip install sleakops\n\n      - name: Run SleakOps deploy\n        env:\n          SLEAKOPS_KEY: ${{ secrets.SLEAKOPS_KEY }}\n        run: sleakops deploy -p core -e main -w\n"})})})}),(0,r.jsx)(w,{value:"GitLab",children:(0,r.jsx)("code",{children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"image: python:3.9\n\nstages:\n  - build\n  - deploy\n\nbuild:\n  stage: build\n  script:\n    - apt-get update -qy\n    - apt-get install -y python3-pip\n    - pip3 install sleakops\n    - sleakops build -p core -b main -w\n  rules:\n    - if: '$CI_COMMIT_BRANCH == main'\n\ndeploy:\n  stage: deploy\n  needs:\n    - build\n  script:\n    - apt-get update -qy\n    - apt-get install -y python3-pip\n    - pip3 install sleakops\n    - sleakops deploy -p core -e prod -w\n  rules:\n    - if: '$CI_COMMIT_BRANCH == main'\n"})})})}),(0,r.jsx)(w,{value:"BitBucket",children:(0,r.jsx)("code",{children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"image: python:3.9\n\npipelines:\n  branches:\n    main:\n      - step:\n          name: Deploy\n          script:\n            - apt-get update -qy\n            - apt-get install -y python3-pip\n            - pip3 install sleakops\n            - sleakops build -p core -b main -w\n            - sleakops deploy -p core -e main -w\n"})})})})]})]})}function D(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(_,{...e})}):_(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>l});var s=a(96540);const r={},i=s.createContext(r);function t(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);