"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1461],{4102:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>t,contentTitle:()=>c,default:()=>m,frontMatter:()=>d,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"cluster/addons/loki","title":"Loki","description":"Introducci\xf3n","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/cluster/addons/loki.mdx","sourceDirName":"cluster/addons","slug":"/cluster/addons/loki","permalink":"/preview-docs/docs/es/cluster/addons/loki","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Loki","pagination_back":"cluster/addons/grafana","pagination_next":"cluster/addons/kubecost"},"sidebar":"tutorialSidebar","previous":{"title":"Kubecost","permalink":"/preview-docs/docs/es/cluster/addons/kubecost"},"next":{"title":"Kubecost","permalink":"/preview-docs/docs/es/cluster/addons/kubecost"}}');var s=o(4848),l=o(8453),n=o(4028),i=o(2644);const d={sidebar_label:"Loki",pagination_back:"cluster/addons/grafana",pagination_next:"cluster/addons/kubecost"},c="Loki",t={},u=[{value:"Preguntas Frecuentes",id:"preguntas-frecuentes",level:2},{value:"\xbfQu\xe9 paneles me permiten leer logs?",id:"qu\xe9-paneles-me-permiten-leer-logs",level:3},{value:"\xbfCu\xe1l es la mejor manera de usar Loki?",id:"cu\xe1l-es-la-mejor-manera-de-usar-loki",level:3},{value:"\xbfC\xf3mo puedo modificar la capacidad de procesamiento de Loki?",id:"c\xf3mo-puedo-modificar-la-capacidad-de-procesamiento-de-loki",level:3},{value:"\xbfC\xf3mo captura y almacena logs Loki?",id:"c\xf3mo-captura-y-almacena-logs-loki",level:3},{value:"\xbfC\xf3mo es el proceso de recolecci\xf3n de logs?",id:"c\xf3mo-es-el-proceso-de-recolecci\xf3n-de-logs",level:3}];function p(e){const a={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:o}=a;return o||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"loki",children:"Loki"})}),"\n",(0,s.jsxs)(a.p,{children:["Introducci\xf3n\n",(0,s.jsxs)(a.a,{href:"https://grafana.com/oss/loki/",children:["Loki ",(0,s.jsx)(i.HaR,{})]})," es un Addon que te permite almacenar y consultar logs de los contenedores desplegados dentro del cl\xfaster. Loki depende de ",(0,s.jsxs)(a.a,{href:"/cluster/addons/grafana",children:["Grafana ",(0,s.jsx)(i.HaR,{})]}),", ya que SleakOps lo utiliza como visor de logs. Es una herramienta crucial para la resoluci\xf3n de problemas, ya que puede almacenar los logs de todo lo que ocurre en el cl\xfaster, lo cual es \xfatil para el an\xe1lisis de las causas ra\xedz de problemas en tus aplicaciones o en cualquier recurso asignado dentro del cl\xfaster."]}),"\n",(0,s.jsx)(n.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,s.jsx)("img",{src:"/img/cluster/addons/loki/loki-log-explorer.png",alt:"loki-log-explorer"})}),"\n",(0,s.jsx)(a.h2,{id:"preguntas-frecuentes",children:"Preguntas Frecuentes"}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(a.h3,{id:"qu\xe9-paneles-me-permiten-leer-logs",children:"\xbfQu\xe9 paneles me permiten leer logs?"})}),(0,s.jsx)(a.p,{children:"Actualmente, SleakOps proporciona dos paneles para consultar los logs recolectados por Loki:"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Log Explorer"}),": Es un panel simple que te permite filtrar por Namespace, Pod, Contenedor y Stream, donde puedes elegir entre 'stdout' y 'stderr'. Tambi\xe9n te permite buscar expresiones mediante el campo 'Search Query' en la parte superior."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.strong,{children:"Container Log Dashboard"}),": Similar al anterior, pero m\xe1s orientado a analizar casos complejos. Es m\xe1s lento porque requiere m\xe1s procesamiento, y para consultas generales no ser\xe1 necesario."]}),"\n"]})]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(a.h3,{id:"cu\xe1l-es-la-mejor-manera-de-usar-loki",children:"\xbfCu\xe1l es la mejor manera de usar Loki?"})}),(0,s.jsx)(a.p,{children:"Minimizar el rango de tiempo que se consulta es la mejor forma de revisar logs de manera r\xe1pida y sin errores, ya que este par\xe1metro tiene la mayor influencia en el peso de la respuesta. Recomendamos primero obtener una visi\xf3n general de cu\xe1ndo ocurri\xf3 el problema y luego buscar en Loki los logs de un rango de tiempo m\xe1s espec\xedfico, ya que, generalmente, la cantidad de logs puede ser muy alta."}),(0,s.jsx)(a.p,{children:"Ten en cuenta que Loki utiliza peque\xf1as unidades de procesamiento para lectura, escritura y como controlador (backend), por lo que las consultas grandes pueden ser lentas si no hay suficientes r\xe9plicas de lectura o capacidad de procesamiento. Esto se puede modificar mediante SleakOps, pero tambi\xe9n incrementar\xe1 los costos."})]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(a.h3,{id:"c\xf3mo-puedo-modificar-la-capacidad-de-procesamiento-de-loki",children:"\xbfC\xf3mo puedo modificar la capacidad de procesamiento de Loki?"})}),(0,s.jsx)(a.p,{children:"SleakOps te permite modificar la capacidad de procesamiento de Loki a trav\xe9s de la configuraci\xf3n del Addon. Una forma de aumentar su capacidad es modificando la cantidad de r\xe9plicas desplegadas."}),(0,s.jsx)(n.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,s.jsx)("img",{src:"/img/cluster/addons/loki/loki-replicas-configuration.png",alt:"loki-replicas-configuration"})})]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(a.h3,{id:"c\xf3mo-captura-y-almacena-logs-loki",children:"\xbfC\xf3mo captura y almacena logs Loki?"})}),(0,s.jsx)(a.p,{children:"Loki recolecta logs de cada nodo del cl\xfaster y, por lo tanto, de cada contenedor que se ejecuta en \xe9l. Para lograr esto, SleakOps utiliza Promtail, que es el colector de logs predeterminado para Loki. Por esta raz\xf3n, cada nodo del cl\xfaster tendr\xe1 una instancia de Promtail desplegada, encargada de recopilar y enviar los logs a la instancia de escritura de Loki, que despu\xe9s de un cierto per\xedodo los transfiere a S3 para almacenamiento a largo plazo."})]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(a.h3,{id:"c\xf3mo-es-el-proceso-de-recolecci\xf3n-de-logs",children:"\xbfC\xf3mo es el proceso de recolecci\xf3n de logs?"})}),(0,s.jsx)(a.p,{children:"El colector de logs, Promtail, recopila y transmite a Loki todos los logs generados a trav\xe9s de 'stdout' o 'stderr' de cada contenedor en ejecuci\xf3n en el cl\xfaster."})]})]})}function m(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);