"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5472],{93734:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"make-rds-public","title":"Hacer p\xfablica base de datos RDS","description":"Aprende c\xf3mo hacer una base de datos RDS p\xfablicamente accesible usando un m\xe9todo workaround","source":"@site/i18n/es/docusaurus-plugin-content-docs-tutorials/current/make-rds-public.mdx","sourceDirName":".","slug":"/make-rds-public","permalink":"/preview-docs/es/tutorial/make-rds-public","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"rds","permalink":"/preview-docs/es/tutorial/tags/rds"},{"inline":true,"label":"database","permalink":"/preview-docs/es/tutorial/tags/database"},{"inline":true,"label":"aws","permalink":"/preview-docs/es/tutorial/tags/aws"},{"inline":true,"label":"security","permalink":"/preview-docs/es/tutorial/tags/security"},{"inline":true,"label":"networking","permalink":"/preview-docs/es/tutorial/tags/networking"},{"inline":true,"label":"vpc","permalink":"/preview-docs/es/tutorial/tags/vpc"},{"inline":true,"label":"postgresql","permalink":"/preview-docs/es/tutorial/tags/postgresql"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"Hacer p\xfablica base de datos RDS","sidebar_position":4,"title":"Hacer p\xfablica base de datos RDS","description":"Aprende c\xf3mo hacer una base de datos RDS p\xfablicamente accesible usando un m\xe9todo workaround","tags":["rds","database","aws","security","networking","vpc","postgresql"],"image":"/img/tutorials/make-rds-public/make-rds-public.png"},"sidebar":"tutorialsSidebar","previous":{"title":"Configurar AWS WAF","permalink":"/preview-docs/es/tutorial/config-aws-waf"},"next":{"title":"Dashboard Loki not responding","permalink":"/preview-docs/es/tutorial/dashboard-loki-not-responding"}}');var n=s(74848),i=s(28453),l=s(34028);s(26393);const o={sidebar_label:"Hacer p\xfablica base de datos RDS",sidebar_position:4,title:"Hacer p\xfablica base de datos RDS",description:"Aprende c\xf3mo hacer una base de datos RDS p\xfablicamente accesible usando un m\xe9todo workaround",tags:["rds","database","aws","security","networking","vpc","postgresql"],image:"/img/tutorials/make-rds-public/make-rds-public.png"},c=void 0,t={},d=[{value:"Introducci\xf3n y Caso Actual",id:"introducci\xf3n-y-caso-actual",level:2},{value:"Soluci\xf3n con Workaround",id:"soluci\xf3n-con-workaround",level:2},{value:"Pre-requisitos:",id:"pre-requisitos",level:3},{value:"Paso a Paso:",id:"paso-a-paso",level:3},{value:"Conclusi\xf3n",id:"conclusi\xf3n",level:2}];function u(e){const a={admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.admonition,{type:"warning",children:(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Trata de evitar este m\xe9todo que expone tu fuente de datos."})})}),"\n",(0,n.jsx)(a.h2,{id:"introducci\xf3n-y-caso-actual",children:"Introducci\xf3n y Caso Actual"}),"\n",(0,n.jsx)(a.p,{children:"Actualmente todas las bases de datos levantadas con SleakOps tienen la misma configuraci\xf3n de accesos:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Publicly Accessible \u274c"}),"\n",(0,n.jsx)(a.li,{children:'Alocada en SubnetGroup conformado por subnets "de Persistencia" creadas en la VPC de SleakOps.'}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Bajo esta configuraci\xf3n no existe forma directa de transformar a la DB a acceso p\xfablico por lo que hay que realizar un peque\xf1o workaround."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"\xbfPor qu\xe9 no se puede hacer p\xfablica una base de datos de forma directa?"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"No se puede editar un SubnetGroup de RDS."}),"\n",(0,n.jsx)(a.li,{children:"AWS no permite editar el SubnetGroup asociado a una RDS sin que exista cambio de VPC. Por ende, nos obliga a hacerlo usando una VPC externa."}),"\n"]}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"soluci\xf3n-con-workaround",children:"Soluci\xf3n con Workaround"}),"\n",(0,n.jsx)(a.h3,{id:"pre-requisitos",children:"Pre-requisitos:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"30 mins aproximadamente."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:'Tener creada la VPC default con Subnets en la cual situar la DB. De no tenerse, habr\xe1 que crear una nueva de 0 por nuestra cuenta as\xed como subnets dentro de ella que se usaran para este cambio. Llam\xe9mosla "transitoria".'}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Crear el SubnetGroup que utilice Subnets de la VPC transitoria, es indistinto las subnets que use. Se utiliza para migrar hacia la otra VPC."}),"\n",(0,n.jsx)(a.p,{children:"En mi caso yo cre\xe9 la siguiente, n\xf3tese que tanto la VPC como las Subnets son de la VPC Default."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-1.png",alt:"rds-db-public-1"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Crear el SubnetGroup que utilice las Subnet P\xfablicas de la VPC desplegada por SleakOps. Esta es la que usar\xe1 la DB al final del flujo."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-2.png",alt:"rds-db-public-2"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Crear un SecurityGroup que permita el acceso p\xfablico, o bien editar el existente. Para ambos casos debe pertenecer a la VPC donde est\xe1 la Base de Datos."}),"\n",(0,n.jsx)(a.p,{children:"En mi caso cre\xe9 el siguiente."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-3.png",alt:"rds-db-public-3"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"paso-a-paso",children:"Paso a Paso:"}),"\n",(0,n.jsx)(a.p,{children:"Con los pre-requisitos cumplidos solo realizar las modificaciones a las configuraciones."}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Cambiar el SubnetGroup al correspondiente a la VPC Transitoria y eliminar el SG actual."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-4.png",alt:"rds-db-public-4"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Tocar next y hacer la revisi\xf3n de los cambios, tener en cuenta seleccionar ",(0,n.jsx)(a.strong,{children:"'Apply Immediately'"}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-5.png",alt:"rds-db-public-5"})}),"\n",(0,n.jsx)(a.p,{children:"Una vez hecho esto hay que esperar que se aplique el cambio para luego seguir con los pasos siguientes donde se vuelve a la VPC inicial que es la creada por SleakOps."}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Finalizado el cambio de VPC. Cambiar el SubnetGroup al p\xfablico que fue creado, el cual se conform\xf3 con las Subnet P\xfablicas de la VPC de SleakOps. Nuevamente, eliminar el SG default que se liga autom\xe1ticamente."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-6.png",alt:"rds-db-public-6"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Hacer la DB ",(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"Publicly Accessible"})}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-7.png",alt:"rds-db-public-7"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Revisar los cambios, deber\xedan ser los siguientes. Dar next y ",(0,n.jsx)(a.strong,{children:"Apply Immediately"}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-8.png",alt:"rds-db-public-8"})}),"\n",(0,n.jsx)(a.p,{children:"Nuevamente esperar a que se termine de realizar el cambio para el \xfaltimo paso:"}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Agregar el SecurityGroup creado en los pre-requisitos."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-9.png",alt:"rds-db-public-9"})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["Revisar el cambio. Dar next y ",(0,n.jsx)(a.strong,{children:"Apply Immediately"})," nuevamente."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-10.png",alt:"rds-db-public-10"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"conclusi\xf3n",children:"Conclusi\xf3n"}),"\n",(0,n.jsxs)(a.p,{children:["Con esto nuestra DB queda completamente p\xfablica para todas las request en el puerto que use la DB, para el caso de Postgres, ",(0,n.jsx)(a.strong,{children:"5432"}),"."]})]})}function p(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},26393:()=>{}}]);