"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6400],{15341:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"quickstart/n8n/n8n-worker","title":"n8n + Modo Worker","description":"Aprende c\xf3mo desplegar tu proyecto n8n con modo worker distribuido y escalable en kubernetes usando Sleakops.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/quickstart/n8n/index.mdx","sourceDirName":"quickstart/n8n","slug":"/quickstart/n8n/","permalink":"/preview-docs/es/docs/quickstart/n8n/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"n8n-worker","title":"n8n + Modo Worker","sidebar_label":"n8n + Modo Worker"},"sidebar":"tutorialSidebar","previous":{"title":"Django + Celery","permalink":"/preview-docs/es/docs/quickstart/django_celery/"},"next":{"title":"Networking y Recursos de Red","permalink":"/preview-docs/es/docs/network/"}}');var o=r(74848),i=r(28453),a=r(34028);r(26393);const d={id:"n8n-worker",title:"n8n + Modo Worker",sidebar_label:"n8n + Modo Worker"},c=void 0,l={},t=[{value:"\xbfPor qu\xe9 Auto-hospedar n8n?",id:"por-qu\xe9-auto-hospedar-n8n",level:2},{value:"\ud83d\udd12 <strong>Seguridad y Privacidad</strong>",id:"-seguridad-y-privacidad",level:3},{value:"\ud83d\udcb0 <strong>Optimizaci\xf3n de Costos</strong>",id:"-optimizaci\xf3n-de-costos",level:3},{value:"\u26a1 <strong>Rendimiento y Escalabilidad</strong>",id:"-rendimiento-y-escalabilidad",level:3},{value:"\ud83c\udf9b\ufe0f <strong>Control Total y Personalizaci\xf3n</strong>",id:"\ufe0f-control-total-y-personalizaci\xf3n",level:3},{value:"Beneficios de Escalado en Kubernetes",id:"beneficios-de-escalado-en-kubernetes",level:2},{value:"\ud83d\ude80 <strong>Escalado Horizontal</strong>",id:"-escalado-horizontal",level:3},{value:"\ud83c\udfd7\ufe0f <strong>Resistencia de Infraestructura</strong>",id:"\ufe0f-resistencia-de-infraestructura",level:3},{value:"\ud83d\udcca <strong>Monitoreo y Observabilidad</strong>",id:"-monitoreo-y-observabilidad",level:3},{value:"\ud83d\udd27 <strong>Integraci\xf3n DevOps</strong>",id:"-integraci\xf3n-devops",level:3},{value:"Prerrequisitos",id:"prerrequisitos",level:2},{value:"Crear Proyecto",id:"crear-proyecto",level:2},{value:"Crear Workloads",id:"crear-workloads",level:2},{value:"Crear el Servicio Web",id:"crear-el-servicio-web",level:3},{value:"Crear el Worker n8n",id:"crear-el-worker-n8n",level:3},{value:"Crear dependencias (redis y postgresql)",id:"crear-dependencias-redis-y-postgresql",level:2},{value:"Crear Dependencia Redis",id:"crear-dependencia-redis",level:3},{value:"Crear Base de Datos PostgreSQL",id:"crear-base-de-datos-postgresql",level:3},{value:"Configurar Variables de Entorno n8n",id:"configurar-variables-de-entorno-n8n",level:2},{value:"Despliegues",id:"despliegues",level:2},{value:"Configuraci\xf3n de CI/CD (Opcional pero Recomendado)",id:"configuraci\xf3n-de-cicd-opcional-pero-recomendado",level:2},{value:"\xbfPor qu\xe9 configurar CI/CD?",id:"por-qu\xe9-configurar-cicd",level:3},{value:"Pasos para configurar:",id:"pasos-para-configurar",level:3},{value:"\ud83c\udfaf Pr\xf3ximos pasos",id:"-pr\xf3ximos-pasos",level:2},{value:"Configuraci\xf3n inicial de n8n",id:"configuraci\xf3n-inicial-de-n8n",level:3},{value:"Monitoreo y optimizaci\xf3n",id:"monitoreo-y-optimizaci\xf3n",level:3},{value:"Backup y seguridad",id:"backup-y-seguridad",level:3},{value:"Actualizar y extender n8n",id:"actualizar-y-extender-n8n",level:2},{value:"Para actualizar la version",id:"para-actualizar-la-version",level:4},{value:"Para agregar nuevas dependencias dentro de tus nodos",id:"para-agregar-nuevas-dependencias-dentro-de-tus-nodos",level:4},{value:"Mejores Pr\xe1cticas de Escalado (Bonus)",id:"mejores-pr\xe1cticas-de-escalado-bonus",level:2},{value:"\ud83c\udfaf <strong>Optimizaci\xf3n de Workers</strong>",id:"-optimizaci\xf3n-de-workers",level:3},{value:"\ud83d\udcc8 <strong>Monitoreo de Rendimiento</strong>",id:"-monitoreo-de-rendimiento",level:3},{value:"\xbfComo lo hacemos desde Sleakops?",id:"como-lo-hacemos-desde-sleakops",level:4},{value:"\ud83d\udd27 <strong>Optimizaci\xf3n de Base de Datos</strong>",id:"-optimizaci\xf3n-de-base-de-datos",level:3},{value:"\ud83d\ude80 <strong>Configuraciones Avanzadas</strong>",id:"-configuraciones-avanzadas",level:3}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Aprende c\xf3mo desplegar tu proyecto n8n con modo worker distribuido y escalable en kubernetes usando Sleakops."}),"\n",(0,o.jsx)(n.h2,{id:"por-qu\xe9-auto-hospedar-n8n",children:"\xbfPor qu\xe9 Auto-hospedar n8n?"}),"\n",(0,o.jsx)(n.p,{children:"Auto-hospedar n8n proporciona numerosas ventajas sobre las soluciones hospedadas en la nube:"}),"\n",(0,o.jsxs)(n.h3,{id:"-seguridad-y-privacidad",children:["\ud83d\udd12 ",(0,o.jsx)(n.strong,{children:"Seguridad y Privacidad"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Control completo de datos"}),": Tus flujos de trabajo, credenciales y datos sensibles nunca abandonan tu infraestructura"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pol\xedticas de seguridad personalizadas"}),": Implementa los requisitos de seguridad espec\xedficos de tu organizaci\xf3n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Aislamiento de red"}),": Mant\xe9n n8n dentro de tu red privada, reduciendo vectores de ataque externos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cumplimiento"}),": Cumple con requisitos regulatorios estrictos (GDPR, HIPAA, SOC2) con despliegue local"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-optimizaci\xf3n-de-costos",children:["\ud83d\udcb0 ",(0,o.jsx)(n.strong,{children:"Optimizaci\xf3n de Costos"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sin l\xedmites por ejecuci\xf3n"}),": Ejecuta flujos de trabajo ilimitados sin precios basados en uso"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Costos predecibles"}),": Costos de infraestructura fijos independientemente del volumen de uso"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Eficiencia de recursos"}),": Escala recursos bas\xe1ndote en necesidades reales, no en niveles de precios de proveedores"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ahorros a largo plazo"}),": Reducci\xf3n significativa de costos para escenarios de automatizaci\xf3n de alto volumen"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-rendimiento-y-escalabilidad",children:["\u26a1 ",(0,o.jsx)(n.strong,{children:"Rendimiento y Escalabilidad"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Asignaci\xf3n de recursos personalizada"}),": Asigna CPU y memoria bas\xe1ndote en los requisitos espec\xedficos de tu carga de trabajo"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Baja latencia"}),": Acceso directo a sistemas internos sin roundtrips de internet"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Alta disponibilidad"}),": Dise\xf1a sistemas redundantes con m\xfaltiples r\xe9plicas y mecanismos de failover"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Integraciones personalizadas"}),": Con\xe9ctate a APIs internas y sistemas no accesibles desde proveedores de nube"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"\ufe0f-control-total-y-personalizaci\xf3n",children:["\ud83c\udf9b\ufe0f ",(0,o.jsx)(n.strong,{children:"Control Total y Personalizaci\xf3n"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Control de versiones"}),": Elige cu\xe1ndo actualizar y prueba nuevas versiones en tu entorno"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nodos personalizados"}),": Instala y desarrolla nodos propietarios para tus casos de uso espec\xedficos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Variables de entorno"}),": Acceso completo a configuraciones a nivel de sistema y gesti\xf3n de secretos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Estrategias de respaldo"}),": Implementa tus propios procedimientos de respaldo y recuperaci\xf3n ante desastres"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"beneficios-de-escalado-en-kubernetes",children:"Beneficios de Escalado en Kubernetes"}),"\n",(0,o.jsx)(n.p,{children:"Desplegar n8n en un cl\xfaster de Kubernetes con Sleakops proporciona escalabilidad de nivel empresarial:"}),"\n",(0,o.jsxs)(n.h3,{id:"-escalado-horizontal",children:["\ud83d\ude80 ",(0,o.jsx)(n.strong,{children:"Escalado Horizontal"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pods de worker"}),": Escala autom\xe1ticamente instancias de worker bas\xe1ndote en la profundidad de cola y uso de CPU"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Distribuci\xf3n de carga"}),": Distribuye la ejecuci\xf3n de flujos de trabajo a trav\xe9s de m\xfaltiples nodos worker"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Auto-escalado"}),": Kubernetes HPA (Horizontal Pod Autoscaler) ajusta autom\xe1ticamente el conteo de workers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Optimizaci\xf3n de recursos"}),": Escala diferentes componentes independientemente (UI web vs workers)"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"\ufe0f-resistencia-de-infraestructura",children:["\ud83c\udfd7\ufe0f ",(0,o.jsx)(n.strong,{children:"Resistencia de Infraestructura"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Alta disponibilidad"}),": M\xfaltiples r\xe9plicas aseguran cero tiempo de inactividad durante fallas de nodos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Actualizaciones continuas"}),": Despliega nuevas versiones sin interrupci\xf3n del servicio"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Verificaciones de salud"}),": Kubernetes reinicia autom\xe1ticamente pods fallidos y enruta tr\xe1fico a instancias saludables"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Despliegue multi-zona"}),": Distribuye carga de trabajo a trav\xe9s de zonas de disponibilidad para recuperaci\xf3n ante desastres"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-monitoreo-y-observabilidad",children:["\ud83d\udcca ",(0,o.jsx)(n.strong,{children:"Monitoreo y Observabilidad"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"M\xe9tricas en tiempo real"}),": Monitorea ejecuci\xf3n de flujos de trabajo, profundidad de cola y uso de recursos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Registro centralizado"}),": Agrega logs de todos los componentes n8n en un solo lugar"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Insights de rendimiento"}),": Rastrea tiempos de ejecuci\xf3n, tasas de error y throughput"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Alertas"}),": Notificaciones proactivas para problemas del sistema y cuellos de botella de rendimiento"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-integraci\xf3n-devops",children:["\ud83d\udd27 ",(0,o.jsx)(n.strong,{children:"Integraci\xf3n DevOps"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Flujos de trabajo GitOps"}),": Control de versiones de tu infraestructura n8n como c\xf3digo"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pipelines CI/CD"}),": Pruebas automatizadas y despliegue de configuraciones n8n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Gesti\xf3n de secretos"}),": Integra con secretos de Kubernetes y gestores de secretos externos"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pol\xedticas de red"}),": Controles de seguridad de red de grano fino"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"prerrequisitos",children:"Prerrequisitos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Cuenta en Sleakops"}),"\n",(0,o.jsxs)(n.li,{children:["Un Cl\xfaster en esta cuenta. Si no lo tienes, ",(0,o.jsx)(n.a,{href:"/cluster",children:"aqu\xed est\xe1 la documentaci\xf3n sobre c\xf3mo hacerlo"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Un Entorno configurado. Si no lo tienes, ",(0,o.jsx)(n.a,{href:"/environment",children:"aqu\xed est\xe1 la documentaci\xf3n sobre c\xf3mo hacerlo"})]}),"\n",(0,o.jsxs)(n.li,{children:["Proyecto n8n configurado con Docker. Sino lo tienes puedes hacer un fork o copia a ",(0,o.jsx)(n.a,{href:"https://github.com/sleakops/n8n_sleakops",children:"n8n-code"}),". Este proyecto incluye un docker-compose para que puedas desplegarlo en local tambien asi puedes tener entornos distribuidos como quieras."]}),"\n"]}),"\n",(0,o.jsx)(n.h1,{id:"comencemos",children:"Comencemos"}),"\n",(0,o.jsx)(n.p,{children:"Para este ejemplo, vamos a desplegar un proyecto n8n en modo distribuido con workers. Esta configuraci\xf3n incluye el servicio principal n8n (interfaz web) y procesos worker para ejecutar flujos de trabajo. Tambi\xe9n vamos a configurar una base de datos PostgreSQL y Redis para gesti\xf3n de colas necesarias para este proyecto."}),"\n",(0,o.jsx)(n.h2,{id:"crear-proyecto",children:"Crear Proyecto"}),"\n",(0,o.jsxs)(n.p,{children:["Los proyectos son nuestros repositorios de codigo. Lo unico que necesita Sleakops para poder ejecutar comandos es un Dockerfile.\nPara mas informacion puedes ver nuestra ",(0,o.jsx)(n.a,{href:"/project",children:"documentaci\xf3n de proyectos"})]}),"\n",(0,o.jsx)(n.p,{children:"Para empezar, crearemos un nuevo proyecto:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:'Haz clic en el bot\xf3n "Projects" en el panel izquierdo'}),"\n",(0,o.jsx)(n.li,{children:'Luego haz clic en "Create" en la esquina superior derecha'}),"\n"]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/start-project.png",alt:"click-project-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Dentro del panel Projects podr\xe1s ver todos los proyectos que tienes y gestionarlos desde aqu\xed. Queremos crear uno nuevo as\xed que hagamos clic en el bot\xf3n "create" en la parte superior derecha:'}),"\n",(0,o.jsx)(n.p,{children:"En la pantalla de creaci\xf3n del proyecto tenemos los siguientes campos:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Configuraci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Environment"})}),(0,o.jsx)(n.td,{children:"Tenemos que seleccionar el entorno creado previamente."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Nodepool"}),(0,o.jsx)(n.td,{children:"Dejaremos el predeterminado."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Repositories"})}),(0,o.jsx)(n.td,{children:"Seleccionaremos nuestro repositorio que contiene el proyecto n8n."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Project Name"}),(0,o.jsx)(n.td,{children:'Podemos definir un nombre de proyecto. Por ejemplo "n8n-server".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Branch"})}),(0,o.jsx)(n.td,{children:'Tiene que coincidir con el que tenemos en nuestro proyecto. En nuestro caso es "main".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Dockerfile path"}),(0,o.jsx)(n.td,{children:"Es la ruta relativa al dockerfile en tu proyecto."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:'Una vez configurado todo eso creamos el proyecto con el bot\xf3n "Submit" en la parte inferior derecha:'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/project-form.png",alt:"create-project-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Con eso, el proyecto comienza a crearse. Mientras tanto vamos a las cargas de trabajo con el bot\xf3n "Workloads" en el panel izquierdo:'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/webservice-start.png",alt:"click-workloads-reference"})}),"\n",(0,o.jsx)(n.h2,{id:"crear-workloads",children:"Crear Workloads"}),"\n",(0,o.jsxs)(n.p,{children:["Los workloads son los procesos que corre tu proyecto. Para el caso de n8n que vamos a correrlo en modo queue vamos a crear un webservice para la interfaz web y un worker\nPara mas informacion puedes ver nuestra ",(0,o.jsx)(n.a,{href:"/project/workload",children:"documentaci\xf3n de workloads"})]}),"\n",(0,o.jsx)(n.h3,{id:"crear-el-servicio-web",children:"Crear el Servicio Web"}),"\n",(0,o.jsx)(n.p,{children:"Aqu\xed vamos a crear el servicio web principal n8n que manejar\xe1 la interfaz de usuario y API:"}),"\n",(0,o.jsx)(n.p,{children:"En esta p\xe1gina vamos a completar el primer formulario con los siguientes campos:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Configuraci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Project"})}),(0,o.jsx)(n.td,{children:'Seleccionamos el proyecto que creamos previamente, en nuestro caso "n8n-server".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Name"}),(0,o.jsx)(n.td,{children:'Definimos un nombre para el servicio web, por ejemplo "n8n-main".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Command"})}),(0,o.jsx)(n.td,{children:"Comando predeterminado del Dockerfile (usualmente n8n start)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Port"}),(0,o.jsx)(n.td,{children:"Puerto 5678 (puerto predeterminado de n8n)."})]})]})]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/webservice-form-1.png",alt:"click-create-web-service-reference"})}),"\n",(0,o.jsxs)(n.p,{children:["En el segundo paso, configuraremos el webservice como ",(0,o.jsx)(n.strong,{children:"privado"}),":"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\xbfQu\xe9 significa esto?"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"El servicio de n8n estar\xe1 dentro de la VPC"}),"\n",(0,o.jsx)(n.li,{children:"Solo ser\xe1 accesible desde servicios en la misma red"}),"\n",(0,o.jsx)(n.li,{children:"Requiere VPN para acceso externo"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Alternativa para webhooks p\xfablicos:"}),"\nSi necesitas conectar webhooks p\xfablicos (Jira, Slack, Google Drive, etc.), puedes:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Dejar este servicio como p\xfablico, O"}),"\n",(0,o.jsxs)(n.li,{children:["Crear un webservice adicional p\xfablico con el comando ",(0,o.jsx)(n.code,{children:"webhook"})]}),"\n"]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/webservice-form-2.png",alt:"click-create-web-service-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Sigue hasta el paso 3 "Service settings" y configura el healthcheck'}),"\n",(0,o.jsxs)(n.p,{children:["Para esto solo necesitamos definir bien el path del healthcheck que trae n8n ",(0,o.jsx)(n.code,{children:"/healthz"})," , y le damos siguiente hasta finalizar el flujo y crear el web services."]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/webservice-form-3.png",alt:"click-create-web-service-reference"})}),"\n",(0,o.jsx)(n.p,{children:"Este healthcheck es importante para que kubernetes sepa cuando esta listo el servicio para empezar a entregarle trafico http. Esto es util para no tener downtime entre cada deploy o rotacion de nodos."}),"\n",(0,o.jsx)(n.p,{children:"El ultimo paso del formulario, donde definimos la memoria, cpu y condiciones de escalado por el momento no vamos a modificarlo, lo dejamos como te lo ofrece la plataforma."}),"\n",(0,o.jsx)(n.h3,{id:"crear-el-worker-n8n",children:"Crear el Worker n8n"}),"\n",(0,o.jsx)(n.p,{children:'Bien, con esto podemos ver nuestro servicio web despleg\xe1ndose. Ahora vamos a desplegar el worker n8n para ejecuci\xf3n distribuida. Para esto tenemos que ir a la secci\xf3n workers dentro de la misma pantalla de workloads y hacer clic en el bot\xf3n "Create".'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/worker-start.png",alt:"click-worker-reference"})}),"\n",(0,o.jsx)(n.p,{children:"En la pantalla de creaci\xf3n de workers tendremos que completar los siguientes campos:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Configuraci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Project"})}),(0,o.jsx)(n.td,{children:'Seleccionar el proyecto creado previamente. En nuestro caso "n8n-server".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Name"}),(0,o.jsx)(n.td,{children:'Definimos el nombre que le vamos a dar al worker. En nuestro caso "n8n-worker".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Command"})}),(0,o.jsxs)(n.td,{children:["Aqu\xed establecemos el comando para ejecutar el worker n8n: ",(0,o.jsx)(n.code,{children:"worker"})]})]})]})]}),"\n",(0,o.jsx)(n.p,{children:'Con estos campos completados haremos clic en el bot\xf3n "Next" en la parte inferior derecha y luego "Submit" ya que no necesitamos editar nada m\xe1s:'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/worker-form-1.png",alt:"create-worker-reference"})}),"\n",(0,o.jsx)(n.p,{children:"Con esto veremos nuestro worker n8n desplegado."}),"\n",(0,o.jsx)(n.h2,{id:"crear-dependencias-redis-y-postgresql",children:"Crear dependencias (redis y postgresql)"}),"\n",(0,o.jsxs)(n.p,{children:["Las dependencias son recursos necesarios para que tu aplicacion funcione, en el caso de n8n en modo queue, necesita una base de datos y un redis.\nSleakops se nutre de los servicios que ofrece AWS para ofrecerte alternativas. Puedes ver mas informacion en ",(0,o.jsx)(n.a,{href:"/project/dependency",children:"documentaci\xf3n de dependencias"})]}),"\n",(0,o.jsx)(n.p,{children:"Vamos a la secci\xf3n de dependencias:"}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/dependency-start.png",alt:"click-hook-reference"})}),"\n",(0,o.jsx)(n.h3,{id:"crear-dependencia-redis",children:"Crear Dependencia Redis"}),"\n",(0,o.jsx)(n.p,{children:"Primero, necesitamos crear Redis para la cola de tareas. En la pantalla de creaci\xf3n de dependencias, seleccionamos Redis y tendremos los siguientes campos:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Configuraci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Dependency Type"})}),(0,o.jsx)(n.td,{children:'Seleccionar "Redis" de las opciones disponibles.'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Project"})}),(0,o.jsx)(n.td,{children:'Seleccionar el proyecto creado previamente. En nuestro caso "n8n-server".'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Name"})}),(0,o.jsx)(n.td,{children:'Definimos el nombre para Redis. En nuestro caso "n8n-redis".'})]})]})]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/dependency-redis-form-2.png",alt:"click-hook-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Con estos campos completados haremos clic en el bot\xf3n "Next" en la parte inferior derecha y  en el ultimo paso, antes de hacer "Submit", vamos a cambiar los nombres de variables de entorno a como los espera n8n'}),"\n",(0,o.jsx)(n.p,{children:"Necesitamos configurar las variables de conexi\xf3n Redis para que coincidan con lo que n8n espera:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Variable"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Valor"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"QUEUE_BULL_REDIS_HOST"}),(0,o.jsx)(n.td,{children:"(Host de Redis de la dependencia)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"QUEUE_BULL_REDIS_PORT"}),(0,o.jsx)(n.td,{children:"6379"})]})]})]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/dependency-redis-form-3.png",alt:"click-create-s3-dependencies-2-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Con esto le decimos a Sleakops con que nombre queremos que publique las variables generadas por la dependencia "Redis"'}),"\n",(0,o.jsx)(n.p,{children:"Aseg\xfarate de que los nombres de las variables coincidan con lo que espera tu configuraci\xf3n n8n."}),"\n",(0,o.jsx)(n.h3,{id:"crear-base-de-datos-postgresql",children:"Crear Base de Datos PostgreSQL"}),"\n",(0,o.jsx)(n.p,{children:"Ahora procedemos a crear la base de datos PostgreSQL para almacenamiento de datos n8n:"}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/dependency-postgresql-form-1.png",alt:"click-create-collectstatic-hook-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Puedes variar entre "produccion" y "no produccion" esto te da valores de configuracion por defecto en el siguiente paso para cada entorno. Por ejemplo: para el entorno de produccion te deja activo el multi A-Z, backups automaticos etc.\nA modo de ejemplo en esta guia vamos a dejarlo en "no produccion"'}),"\n",(0,o.jsx)(n.p,{children:"Lo mismo que para redis,necesitamos configurar los nombres de las variables de entorno como lo espera n8n. Vamos hasta el ultimo paso y antes de apretar submit, cambiamos los nombres por los siguientes:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Antes"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Despu\xe9s"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"*_POSTGRESQL_NAME"}),(0,o.jsx)(n.td,{children:"DB_POSTGRESDB_DATABASE"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"*_POSTGRESQL_USERNAME"}),(0,o.jsx)(n.td,{children:"DB_POSTGRESDB_USER"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"*_POSTGRESQL_PASSWORD"}),(0,o.jsx)(n.td,{children:"DB_POSTGRESDB_PASSWORD"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"*_POSTGRESQL_ADDRESS"}),(0,o.jsx)(n.td,{children:"DB_POSTGRESDB_HOST"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"*_POSTGRESQL_PORT"}),(0,o.jsx)(n.td,{children:"DB_POSTGRESDB_PORT"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:'Deber\xeda verse algo como la imagen a continuaci\xf3n. Luego haz clic en el bot\xf3n "Submit" y tu base de datos deber\xeda crearse:'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/dependency-postgresql-form-3.png",alt:"create-postgresql-3-reference"})}),"\n",(0,o.jsx)(n.h2,{id:"configurar-variables-de-entorno-n8n",children:"Configurar Variables de Entorno n8n"}),"\n",(0,o.jsx)(n.p,{children:'Ahora necesitamos crear las variables de entorno que quedaron pendientes, podemos ver en el repositorio de codigo las variables que tenemos en .env.example.\nHay variables que ya fuimos configurando en cada dependencia, pero otras quedan por definir. Para esto vamos a la seccion de "Variablegroups"'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/variable-group-start.png",alt:"click-create-rabbitmq-dependencies-reference"})}),"\n",(0,o.jsx)(n.p,{children:"Vamos a crear un nuevo grupo de variables, ponemos en modo texto para copiar del .env.example las variables que faltan y ajustamos los valores acordes a nuestro caso."}),"\n",(0,o.jsx)(n.p,{children:"En este formulario tenemos los siguientes campos:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Project: seleccionamos el proyecto que creamos previamente."}),"\n",(0,o.jsx)(n.li,{children:'Workload: Seleccionamos "global" que hace referencia a ser usado por todas nuestras cargas de trabajo.'}),"\n",(0,o.jsx)(n.li,{children:"Name: Definimos un nombre para este grupo de variables."}),"\n",(0,o.jsx)(n.li,{children:"Type: Si queremos cargarlo por archivo o por variable."}),"\n",(0,o.jsx)(n.li,{children:"Vars: Aqu\xed habilitamos el modo texto y copiamos las siguientes variables de entorno:"}),"\n"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Variable"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"DB_TYPE"})}),(0,o.jsx)(n.td,{children:'Establecer a "postgresdb"'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"EXECUTIONS_MODE"})}),(0,o.jsx)(n.td,{children:'Establecer a "queue" para modo worker'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"N8N_ENCRYPTION_KEY"})}),(0,o.jsx)(n.td,{children:"Generar una clave de encriptaci\xf3n segura"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS"})}),(0,o.jsx)(n.td,{children:'Establecer a "true"'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"N8N_HOST"})}),(0,o.jsxs)(n.td,{children:["define el host que configuraste en tu webservice, para este ejemplo seria ",(0,o.jsx)(n.code,{children:"n8n.demo.sleakops.com"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"N8N_WEBHOOK_URL"})}),(0,o.jsxs)(n.td,{children:["Esta variable no es estrictamente necesaria para definirla, en caso de agregar una instancia de webservice aparte para atender los webhooks con otra url hay que especificar cual es la url que atienda los webooks.",(0,o.jsx)(n.code,{children:"https://n8n.demo.sleakops.com/"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"N8N_EDITOR_BASE_URL"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://n8n.demo.sleakops.com"})})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["Si quieres ver todas las variables de entorno disponibles para configurar n8n puedes entrear a la siguiente pagina de ",(0,o.jsx)(n.a,{href:"https://docs.n8n.io/hosting/configuration/environment-variables/",children:"documentaci\xf3n n8n"})]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/variable-group-form.png",alt:"create-rabbitmq-2-reference"})}),"\n",(0,o.jsx)(n.h2,{id:"despliegues",children:"Despliegues"}),"\n",(0,o.jsx)(n.p,{children:'Como \xfaltimo paso vamos a ver nuestro proyecto desplegado, para esto vamos a la secci\xf3n "Deployments" del panel izquierdo:'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/deployments-list.png",alt:"click-deployments-reference"})}),"\n",(0,o.jsx)(n.p,{children:'Aqu\xed vamos a ver todos los despliegues que hacemos. En nuestro caso es el primero y podemos ver que se ha creado correctamente, en caso de que veas alg\xfan error si haces clic en "error" puedes ver una descripci\xf3n del mismo.\nSi no vemos ning\xfan error entonces significa que el proyecto ya est\xe1 desplegado, podr\xedamos comenzar a usarlo desde la url que nos proporcion\xf3 el servicio web.'}),"\n",(0,o.jsx)(n.p,{children:"Esto concluye nuestro proceso de despliegue del proyecto. Te dejamos un paso opcional que es configurar el ci con github."}),"\n",(0,o.jsx)(n.h2,{id:"configuraci\xf3n-de-cicd-opcional-pero-recomendado",children:"Configuraci\xf3n de CI/CD (Opcional pero Recomendado)"}),"\n",(0,o.jsx)(n.h3,{id:"por-qu\xe9-configurar-cicd",children:"\xbfPor qu\xe9 configurar CI/CD?"}),"\n",(0,o.jsx)(n.p,{children:"Sin CI/CD, cada cambio en tu c\xf3digo requiere:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Build manual desde SleakOps"}),"\n",(0,o.jsx)(n.li,{children:"Deploy manual"}),"\n",(0,o.jsx)(n.li,{children:"Verificaci\xf3n manual"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Con CI/CD configurado:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u2705 Push a ",(0,o.jsx)(n.code,{children:"main"})," \u2192 Deploy autom\xe1tico"]}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Rollback autom\xe1tico en caso de error"}),"\n",(0,o.jsx)(n.li,{children:"\u2705 Notificaciones de estado de deploy"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"pasos-para-configurar",children:"Pasos para configurar:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Ve a tu proyecto en SleakOps"}),"\n",(0,o.jsx)(n.li,{children:"Haz clic en el \u2699\ufe0f (configuraci\xf3n)"}),"\n",(0,o.jsx)(n.li,{children:'Selecciona "Git pipelines"'}),"\n",(0,o.jsx)(n.li,{children:"Copia el YAML proporcionado"}),"\n",(0,o.jsxs)(n.li,{children:["A\xf1ade ",(0,o.jsx)(n.code,{children:"SLEAKOPS_KEY"})," a los secrets de GitHub"]}),"\n"]}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/cicd-1.png",alt:"click-settings-project-reference"})}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/cicd-2.png",alt:"click-git-pipelines-reference"})}),"\n",(0,o.jsxs)(n.p,{children:["Esto necesita tener una variable de entorno SLEAKOPS_KEY, si no la tienes tienes que ir al enlace que aparece ah\xed ",(0,o.jsx)(n.strong,{children:"Settings -> CLI"}),", obtenerla y guardarla como una variable de entorno."]}),"\n",(0,o.jsx)(n.p,{children:'Con esto configurado y desplegado cada vez que hagas un push a tu rama "main" se lanzar\xe1 autom\xe1ticamente una nueva versi\xf3n de tu aplicaci\xf3n.'}),"\n",(0,o.jsx)(n.h2,{id:"-pr\xf3ximos-pasos",children:"\ud83c\udfaf Pr\xf3ximos pasos"}),"\n",(0,o.jsx)(n.p,{children:"Una vez completada la instalaci\xf3n:"}),"\n",(0,o.jsx)(n.h3,{id:"configuraci\xf3n-inicial-de-n8n",children:"Configuraci\xf3n inicial de n8n"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Primer acceso"}),": Usa la URL de tu webservice"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Crear usuario administrador"}),": n8n te pedir\xe1 crear el primer usuario"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configurar webhooks"}),": Si los necesitas, configura las URLs p\xfablicas"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"monitoreo-y-optimizaci\xf3n",children:"Monitoreo y optimizaci\xf3n"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Revisar m\xe9tricas"}),": Usa el dashboard de Grafana integrado"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ajustar recursos"}),": Modifica CPU/memoria seg\xfan uso real"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configurar alertas"}),": Define umbrales de rendimiento"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"backup-y-seguridad",children:"Backup y seguridad"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Backups autom\xe1ticos"}),": Configura respaldos de PostgreSQL"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Secrets management"}),": Revisa el manejo de credenciales"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Actualizaciones"}),": Planifica actualizaciones regulares"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"actualizar-y-extender-n8n",children:"Actualizar y extender n8n"}),"\n",(0,o.jsx)(n.p,{children:"Ya tenemos nuestro propio n8n instalado y corriendo en el cluster. Tenemos la definicion de nuestro n8n en un Dockerfile."}),"\n",(0,o.jsx)(n.h4,{id:"para-actualizar-la-version",children:"Para actualizar la version"}),"\n",(0,o.jsxs)(n.p,{children:["Este proceso es muy simple, vamos a modificar el Dockerfile y cambiamos el tag de la imagen . Podemos ver las imagenes disponibles en el repositorio ",(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/n8nio/n8n/tags",children:"oficial de n8n en dockerhub"})]}),"\n",(0,o.jsx)(n.p,{children:"Para tener en cuenta, leer el changelog por si hay algun breakingchanges o algo que rompa entre versiones. Hacer backups de la base de datos previamente por las dudas"}),"\n",(0,o.jsx)(n.h4,{id:"para-agregar-nuevas-dependencias-dentro-de-tus-nodos",children:"Para agregar nuevas dependencias dentro de tus nodos"}),"\n",(0,o.jsx)(n.p,{children:"Como hicimos para actualizar la version en este caso vamos a aprovecharnos de la facilidad de tener nuestro Dockerfile y podemos instalar lo que querramos aca adentro, esto quedara disponible para usarlo en nuestros nodos de n8n"}),"\n",(0,o.jsx)(n.p,{children:"Puedes ver ejemplos de esto en el README del repositorio."}),"\n",(0,o.jsx)(n.h2,{id:"mejores-pr\xe1cticas-de-escalado-bonus",children:"Mejores Pr\xe1cticas de Escalado (Bonus)"}),"\n",(0,o.jsx)(n.p,{children:"Una vez que tu despliegue n8n est\xe9 funcionando, considera estas estrategias de escalado:"}),"\n",(0,o.jsxs)(n.h3,{id:"-optimizaci\xf3n-de-workers",children:["\ud83c\udfaf ",(0,o.jsx)(n.strong,{children:"Optimizaci\xf3n de Workers"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Monitoreo de colas"}),": Monitorea la profundidad de cola de Redis para determinar cu\xe1ndo escalar workers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Asignaci\xf3n de recursos"}),": Asigna suficiente CPU y memoria bas\xe1ndote en la complejidad del flujo de trabajo"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ajuste de concurrencia"}),": Ajusta la concurrencia del worker bas\xe1ndote en tipos de flujo de trabajo (intensivos en CPU vs I/O)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Workers dedicados"}),": Crea pools de workers especializados para diferentes categor\xedas de flujos de trabajo"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-monitoreo-de-rendimiento",children:["\ud83d\udcc8 ",(0,o.jsx)(n.strong,{children:"Monitoreo de Rendimiento"})]}),"\n",(0,o.jsx)(n.p,{children:"Ajusta la memoria y cpu de tus workloads a lo que realmennte necesitan tus procesos.\nEsto es util para no tener infraestructura sobredimencionada y ademas para tomar decisiones a la hora de escalar horizontalmente en base a  memoria o cpu"}),"\n",(0,o.jsx)(n.h4,{id:"como-lo-hacemos-desde-sleakops",children:"\xbfComo lo hacemos desde Sleakops?"}),"\n",(0,o.jsx)(n.p,{children:'Simple, vamos al detalle de tu worker o webservices que creamos anteriormente y tocamos en el icono de "grafana" .\nEsto nos abrira un dashboard dentro de grafana con el consumo historico de tu proceso, asegurate de mirar un rango largo de tiempo para cubrir todos tus casos'}),"\n",(0,o.jsx)(a.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,o.jsx)("img",{src:"/img/quickstart/n8n/grafana-monitoring.png",alt:"click-deployments-reference"})}),"\n",(0,o.jsxs)(n.h3,{id:"-optimizaci\xf3n-de-base-de-datos",children:["\ud83d\udd27 ",(0,o.jsx)(n.strong,{children:"Optimizaci\xf3n de Base de Datos"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pooling de conexiones"}),": Configura pools de conexi\xf3n PostgreSQL para alta concurrencia."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"R\xe9plicas de lectura"}),": Usa r\xe9plicas de lectura para consultas de reportes y an\xe1lisis. (Esto podes hacerlo desde sleakops desde la configuracion de ",(0,o.jsx)(n.a,{href:"/project/dependency/postgresql-aws",children:"Postgres"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Indexaci\xf3n"}),": Optimiza \xedndices de base de datos para consultas de ejecuci\xf3n de flujos de trabajo"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Estrategias de respaldo"}),": Implementa respaldos automatizados con recuperaci\xf3n point-in-time. (Esto podes hacerlo desde sleakops desde la configuracion de ",(0,o.jsx)(n.a,{href:"/project/dependency/postgresql-aws",children:"Postgres"}),")"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"-configuraciones-avanzadas",children:["\ud83d\ude80 ",(0,o.jsx)(n.strong,{children:"Configuraciones Avanzadas"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Afinidad de nodos"}),": Programa workers en tipos de nodos apropiados (CPU vs optimizados para memoria). (Esto podes hacerlo desde sleakops usando ",(0,o.jsx)(n.a,{href:"/cluster/nodepools",children:"Nodepools"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Presupuestos de disrupci\xf3n de pods"}),": Asegura disponibilidad m\xednima durante mantenimiento del cl\xfaster. (Esto ya lo cubre sleakops)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cuotas de recursos"}),": Establece l\xedmites apropiados para prevenir agotamiento de recursos. (Esto podes hacerlo desde sleakops definiendo limites en tus Workloads y en tus Nodepools)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pol\xedticas de red"}),": Asegura comunicaci\xf3n inter-pod. (Esto ya lo hace sleakops)"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},26393:()=>{}}]);