"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9634],{41310:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>t,contentTitle:()=>l,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"php-laravel","title":"PHP Laravel Deployment","description":"Complete guide for deploying Laravel applications with database migrations.","source":"@site/tutorials/php-laravel.mdx","sourceDirName":".","slug":"/php-laravel","permalink":"/preview-docs/tutorial/php-laravel","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"php","permalink":"/preview-docs/tutorial/tags/php"},{"inline":true,"label":"database","permalink":"/preview-docs/tutorial/tags/database"}],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"PHP Laravel Deployment","sidebar_position":3,"title":"PHP Laravel Deployment","description":"Complete guide for deploying Laravel applications with database migrations.","tags":["php","database"],"image":"/img/tutorials/php-laravel.png"},"sidebar":"tutorialsSidebar","previous":{"title":"Node.js API con Express","permalink":"/preview-docs/tutorial/node-api"},"next":{"title":"Database Backup Strategies","permalink":"/preview-docs/tutorial/database-backup"}}');var i=n(74848),o=n(28453);const s={sidebar_label:"PHP Laravel Deployment",sidebar_position:3,title:"PHP Laravel Deployment",description:"Complete guide for deploying Laravel applications with database migrations.",tags:["php","database"],image:"/img/tutorials/php-laravel.png"},l="PHP Laravel Deployment",t={},d=[{value:"Prerequisitos",id:"prerequisitos",level:2},{value:"Paso 1: Configurar el Dockerfile",id:"paso-1-configurar-el-dockerfile",level:2},{value:"Paso 2: Agregar dependencia de base de datos",id:"paso-2-agregar-dependencia-de-base-de-datos",level:2},{value:"Paso 3: Configurar migraciones",id:"paso-3-configurar-migraciones",level:2},{value:"Paso 4: Variables de entorno",id:"paso-4-variables-de-entorno",level:2}];function p(e){const a={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"php-laravel-deployment",children:"PHP Laravel Deployment"})}),"\n",(0,i.jsx)(a.p,{children:"Gu\xeda completa para desplegar aplicaciones Laravel con migraciones de base de datos."}),"\n",(0,i.jsx)(a.h2,{id:"prerequisitos",children:"Prerequisitos"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Una aplicaci\xf3n Laravel"}),"\n",(0,i.jsx)(a.li,{children:"Una cuenta en SleakOps con un cluster configurado"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"paso-1-configurar-el-dockerfile",children:"Paso 1: Configurar el Dockerfile"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-dockerfile",children:'FROM php:8.2-fpm-alpine\n\nRUN apk add --no-cache \\\n    nginx \\\n    supervisor \\\n    && docker-php-ext-install pdo pdo_mysql\n\nCOPY . /var/www/html\nWORKDIR /var/www/html\n\nRUN composer install --no-dev --optimize-autoloader\n\nEXPOSE 80\nCMD ["/usr/bin/supervisord", "-c", "/etc/supervisord.conf"]\n'})}),"\n",(0,i.jsx)(a.h2,{id:"paso-2-agregar-dependencia-de-base-de-datos",children:"Paso 2: Agregar dependencia de base de datos"}),"\n",(0,i.jsx)(a.p,{children:"En SleakOps, agrega una dependencia de MySQL o PostgreSQL a tu proyecto."}),"\n",(0,i.jsx)(a.h2,{id:"paso-3-configurar-migraciones",children:"Paso 3: Configurar migraciones"}),"\n",(0,i.jsx)(a.p,{children:"Usa un Hook de pre-deploy para ejecutar las migraciones:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:"hooks:\n  pre-deploy:\n    command: php artisan migrate --force\n"})}),"\n",(0,i.jsx)(a.h2,{id:"paso-4-variables-de-entorno",children:"Paso 4: Variables de entorno"}),"\n",(0,i.jsx)(a.p,{children:"Configura las variables de entorno necesarias:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.code,{children:"APP_KEY"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.code,{children:"DB_CONNECTION"})}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"DB_HOST"})," (autom\xe1tico con dependencias)"]}),"\n"]})]})}function c(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>l});var r=n(96540);const i={},o=r.createContext(i);function s(e){const a=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:a},e.children)}}}]);