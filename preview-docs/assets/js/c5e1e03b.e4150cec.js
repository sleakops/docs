"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2133],{44108:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"make-rds-public","title":"Make RDS Database Public","description":"Learn how to make an RDS database publicly accessible using a workaround method","source":"@site/tutorials/make-rds-public.mdx","sourceDirName":".","slug":"/make-rds-public","permalink":"/preview-docs/tutorial/make-rds-public","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"rds","permalink":"/preview-docs/tutorial/tags/rds"},{"inline":true,"label":"database","permalink":"/preview-docs/tutorial/tags/database"},{"inline":true,"label":"aws","permalink":"/preview-docs/tutorial/tags/aws"},{"inline":true,"label":"security","permalink":"/preview-docs/tutorial/tags/security"},{"inline":true,"label":"networking","permalink":"/preview-docs/tutorial/tags/networking"},{"inline":true,"label":"vpc","permalink":"/preview-docs/tutorial/tags/vpc"},{"inline":true,"label":"postgresql","permalink":"/preview-docs/tutorial/tags/postgresql"}],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Make RDS Database Public","sidebar_label":"Make RDS Database Public","sidebar_position":4,"description":"Learn how to make an RDS database publicly accessible using a workaround method","tags":["rds","database","aws","security","networking","vpc","postgresql"],"image":"/img/tutorials/make-rds-public/make-rds-public.png"},"sidebar":"tutorialsSidebar","previous":{"title":"Configure AWS WAF","permalink":"/preview-docs/tutorial/config-aws-waf"},"next":{"title":"Loki\'s Dashboard is not responding","permalink":"/preview-docs/tutorial/dashboard-loki-not-responding"}}');var n=t(74848),r=t(28453),l=t(34028);t(26393);const a={title:"Make RDS Database Public",sidebar_label:"Make RDS Database Public",sidebar_position:4,description:"Learn how to make an RDS database publicly accessible using a workaround method",tags:["rds","database","aws","security","networking","vpc","postgresql"],image:"/img/tutorials/make-rds-public/make-rds-public.png"},o=void 0,d={},c=[{value:"Introduction and Current Case",id:"introduction-and-current-case",level:2},{value:"Solution with Workaround",id:"solution-with-workaround",level:2},{value:"Prerequisites:",id:"prerequisites",level:3},{value:"Step by Step:",id:"step-by-step",level:3},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const i={admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.admonition,{type:"warning",children:(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Try to avoid this method as it exposes your data source."})})}),"\n",(0,n.jsx)(i.h2,{id:"introduction-and-current-case",children:"Introduction and Current Case"}),"\n",(0,n.jsx)(i.p,{children:"Currently, all databases deployed with SleakOps have the same access configuration:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Publicly Accessible \u274c"}),"\n",(0,n.jsx)(i.li,{children:'Allocated in a SubnetGroup composed of "Persistence" subnets created in the SleakOps VPC.'}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Under this configuration, there is no direct way to make the database publicly accessible, so a small workaround must be performed."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Why can't a database be made public directly?"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"A SubnetGroup of RDS cannot be edited."}),"\n",(0,n.jsx)(i.li,{children:"AWS does not allow editing the SubnetGroup associated with an RDS without a VPC change. Therefore, it forces us to do it using an external VPC."}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"solution-with-workaround",children:"Solution with Workaround"}),"\n",(0,n.jsx)(i.h3,{id:"prerequisites",children:"Prerequisites:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Approximately 30 minutes."}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Have the default VPC created with Subnets where the DB will be located. If you don't have it, you'll need to create a new one from scratch on your own, as well as subnets within it that will be used for this change. Let's call it \"transitory\"."}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Create the SubnetGroup that uses Subnets from the transitory VPC. It doesn't matter which subnets it uses. It is used to migrate to the other VPC."}),"\n",(0,n.jsx)(i.p,{children:"In my case, I created the following. Note that both the VPC and the Subnets are from the Default VPC."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-1.png",alt:"rds-db-public-1"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Create the SubnetGroup that uses the Public Subnets from the VPC deployed by SleakOps. This is the one the DB will use at the end of the flow."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-2.png",alt:"rds-db-public-2"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Create a SecurityGroup that allows public access, or edit the existing one. In both cases, it must belong to the VPC where the Database is located."}),"\n",(0,n.jsx)(i.p,{children:"In my case, I created the following."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-3.png",alt:"rds-db-public-3"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"step-by-step",children:"Step by Step:"}),"\n",(0,n.jsx)(i.p,{children:"With the prerequisites completed, only perform the modifications to the configurations."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Change the SubnetGroup to the one corresponding to the Transitory VPC and remove the current SG."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-4.png",alt:"rds-db-public-4"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Click next and review the changes. Make sure to select ",(0,n.jsx)(i.strong,{children:"'Apply Immediately'"}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-5.png",alt:"rds-db-public-5"})}),"\n",(0,n.jsx)(i.p,{children:"Once this is done, you must wait for the change to be applied before continuing with the following steps where we return to the initial VPC, which is the one created by SleakOps."}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"After the VPC change is completed. Change the SubnetGroup to the public one that was created, which is composed of the Public Subnets from the SleakOps VPC. Again, remove the default SG that is automatically linked."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-6.png",alt:"rds-db-public-6"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Make the DB ",(0,n.jsx)(i.strong,{children:(0,n.jsx)(i.code,{children:"Publicly Accessible"})}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-7.png",alt:"rds-db-public-7"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Review the changes. They should be as follows. Click next and ",(0,n.jsx)(i.strong,{children:"Apply Immediately"}),"."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-8.png",alt:"rds-db-public-8"})}),"\n",(0,n.jsx)(i.p,{children:"Wait again for the change to complete for the last step:"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"Add the SecurityGroup created in the prerequisites."}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-9.png",alt:"rds-db-public-9"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Review the change. Click next and ",(0,n.jsx)(i.strong,{children:"Apply Immediately"})," again."]}),"\n",(0,n.jsx)(l.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,n.jsx)("img",{src:"/img/tutorials/make-rds-public/RDS-10.png",alt:"rds-db-public-10"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsxs)(i.p,{children:["With this, our DB is completely public for all requests on the port used by the DB. For PostgreSQL, this is port ",(0,n.jsx)(i.strong,{children:"5432"}),"."]})]})}function u(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},26393:()=>{}}]);