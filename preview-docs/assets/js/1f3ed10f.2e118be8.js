"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[817],{49072:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"project/workload/webservice","title":"Web Service","description":"Web services are continuously running services that handle HTTP-based interactions, such as serving web pages, processing API calls, or managing user authentication. In Kubernetes, each Web Service runs in one or more pods that stay active to respond to external requests at any time.","source":"@site/docs/project/workload/webservice.mdx","sourceDirName":"project/workload","slug":"/project/workload/webservice","permalink":"/preview-docs/docs/project/workload/webservice","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Workloads","permalink":"/preview-docs/docs/project/workload/"},"next":{"title":"Worker","permalink":"/preview-docs/docs/project/workload/worker"}}');var i=n(74848),t=n(28453),c=n(34028);n(26393);const a={sidebar_position:1},o="Web Service",l={},d=[{value:"FAQs",id:"faqs",level:2},{value:"What is the difference between Public, Private, and Internal service schemas?",id:"what-is-the-difference-between-public-private-and-internal-service-schemas",level:3},{value:"How do I set up auto-scaling for my Web Service?",id:"how-do-i-set-up-auto-scaling-for-my-web-service",level:3},{value:"What are the default success codes for a Web Service, and can I change them?",id:"what-are-the-default-success-codes-for-a-web-service-and-can-i-change-them",level:3},{value:"What happens if my health check fails repeatedly?",id:"what-happens-if-my-health-check-fails-repeatedly",level:3},{value:"How can I configure memory and CPU settings for my Web Service?",id:"how-can-i-configure-memory-and-cpu-settings-for-my-web-service",level:3},{value:"What are some best practices when configuring a Web Service in SleakOps?",id:"what-are-some-best-practices-when-configuring-a-web-service-in-sleakops",level:3},{value:"What should I do if my service shows response times longer than 10 seconds?",id:"what-should-i-do-if-my-service-shows-response-times-longer-than-10-seconds",level:3},{value:"How can I deploy my static web service?",id:"how-can-i-deploy-my-static-web-service",level:3},{value:"<strong>Lets add a Web Service for your Project</strong>",id:"lets-add-a-web-service-for-your-project",level:2},{value:"1. Navigate to create Web Service section",id:"1-navigate-to-create-web-service-section",level:3},{value:"2. Select a Project and a Name for the web service",id:"2-select-a-project-and-a-name-for-the-web-service",level:3},{value:"3. Define the connection",id:"3-define-the-connection",level:3},{value:"4. Specify your workload settings",id:"4-specify-your-workload-settings",level:3},{value:"5. Finish the set up",id:"5-finish-the-set-up",level:3}];function h(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"web-service",children:"Web Service"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Web services"})," are continuously running services that handle HTTP-based interactions, such as serving web pages, processing API calls, or managing user authentication. In Kubernetes, each Web Service runs in one or more pods that stay active to respond to external requests at any time."]}),"\n",(0,i.jsx)(s.h2,{id:"faqs",children:"FAQs"}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"what-is-the-difference-between-public-private-and-internal-service-schemas",children:"What is the difference between Public, Private, and Internal service schemas?"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Public"}),": Accessible over the internet and is open to anyone."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Private"}),": Restricted access, available only when connected to the VPN."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Internal"}),": Only accessible within the same Kubernetes cluster and is used for internal communication between services."]}),"\n"]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"how-do-i-set-up-auto-scaling-for-my-web-service",children:"How do I set up auto-scaling for my Web Service?"})}),(0,i.jsxs)(s.p,{children:["To enable auto-scaling, you can set the ",(0,i.jsx)(s.strong,{children:"Autoscaling"})," option to enabled and define the ",(0,i.jsx)(s.strong,{children:"Memory Target"})," and ",(0,i.jsx)(s.strong,{children:"CPU Target"}),". These targets determine the resource usage thresholds that trigger auto-scaling. You must also specify the minimum and maximum number of replicas to be maintained when auto-scaling is enabled."]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"what-are-the-default-success-codes-for-a-web-service-and-can-i-change-them",children:"What are the default success codes for a Web Service, and can I change them?"})}),(0,i.jsx)(s.p,{children:"The default success code is 200, indicating the service is healthy. You can change this code based on your application\u2019s requirements, as some services might return different success codes based on specific actions."})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"what-happens-if-my-health-check-fails-repeatedly",children:"What happens if my health check fails repeatedly?"})}),(0,i.jsx)(s.p,{children:"If the health check fails consecutively and reaches the Failure Threshold (default is 60), the service is marked as unhealthy, and Kubernetes might restart or terminate the service instance to attempt a recovery."})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"how-can-i-configure-memory-and-cpu-settings-for-my-web-service",children:"How can I configure memory and CPU settings for my Web Service?"})}),(0,i.jsxs)(s.p,{children:["You can configure the ",(0,i.jsx)(s.em,{children:"CPU Request"})," and ",(0,i.jsx)(s.em,{children:"CPU Limit"})," values to set the minimum and maximum CPU resources each instance in your cluster can use. Similarly, you set ",(0,i.jsx)(s.strong,{children:"Memory Request"})," and ",(0,i.jsx)(s.strong,{children:"Memory Limit"})," for memory allocation per instance."]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"what-are-some-best-practices-when-configuring-a-web-service-in-sleakops",children:"What are some best practices when configuring a Web Service in SleakOps?"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Always set a ",(0,i.jsx)(s.strong,{children:"minimum of 2 replicas"})," to avoid downtime."]}),"\n",(0,i.jsxs)(s.li,{children:["Ensure your ",(0,i.jsx)(s.strong,{children:"health check paths"})," and ",(0,i.jsx)(s.strong,{children:"success codes"})," are correctly configured to reflect the true health of your service."]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.strong,{children:"auto-scaling"})," where possible to optimize resources dynamically based on demand."]}),"\n",(0,i.jsxs)(s.li,{children:["Review and set ",(0,i.jsx)(s.strong,{children:"memory"})," and ",(0,i.jsx)(s.strong,{children:"CPU usage"})," targets appropriately to prevent overloading your infrastructure."]}),"\n"]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"what-should-i-do-if-my-service-shows-response-times-longer-than-10-seconds",children:"What should I do if my service shows response times longer than 10 seconds?"})}),(0,i.jsx)(s.p,{children:"Long response times may indicate issues such as resource constraints, application inefficiencies, or network problems. You should check your service logs, ensure your resources (CPU, memory) are adequately allocated, and review your application code for potential optimizations."})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(s.h3,{id:"how-can-i-deploy-my-static-web-service",children:"How can I deploy my static web service?"})}),(0,i.jsx)(s.p,{children:"At the moment, Sleakops doesn\u2019t natively support static sites, but you can still deploy them using the same flow as other sites, by containerizing them with a web server like Nginx. Below is a simple example of a Dockerfile and the corresponding nginx.conf to serve your static content."}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'FROM node:20.11.0-alpine AS base\n\nWORKDIR /app\n\nFROM base AS build\n\nARG BACKEND_URL\n\nWORKDIR /app\n\nCOPY package.json package-lock.json ./\n\nRUN npm install\n\nCOPY . ./\n\nRUN npm run build\n\nFROM nginx:1.25.3-alpine AS production\n\nCOPY --from=build /app/config/nginx.conf /etc/nginx/conf.d/default.conf\nCOPY --from=build /app/dist /usr/share/nginx/html\n\nEXPOSE 80\nCMD ["nginx", "-g", "daemon off;"]\n'})}),(0,i.jsxs)(s.p,{children:["And here is a sample ",(0,i.jsx)(s.code,{children:"config/nginx.conf"}),":"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"server {\n    listen 80;\n\n    location = /health {\n            access_log off;\n            add_header 'Content-Type' 'application/json';\n            return 200 '{\"status\":\"OK\"}';\n    }\n\n    location / {\n        root /usr/share/nginx/html;\n        index index.html index.htm;\n        try_files $uri $uri/ /index.html =404;\n\n        add_header Last-Modified $date_gmt;\n        add_header Cache-Control 'no-store, no-cache';\n        if_modified_since off;\n        expires off;\n        etag off;\n    }\n}\n"})}),(0,i.jsx)(s.p,{children:"Using this Docker-based approach, you can serve your static site with Nginx, all within a container."})]}),"\n",(0,i.jsx)(s.h2,{id:"lets-add-a-web-service-for-your-project",children:(0,i.jsx)(s.strong,{children:"Lets add a Web Service for your Project"})}),"\n",(0,i.jsx)(s.h3,{id:"1-navigate-to-create-web-service-section",children:"1. Navigate to create Web Service section"}),"\n",(0,i.jsxs)(s.p,{children:["Into the ",(0,i.jsx)(s.em,{children:"Left Pane"}),", access ",(0,i.jsx)(s.em,{children:"Workloads"}),". Then select the ",(0,i.jsx)(s.em,{children:"Web Services"})," tab  and then, at the top right corner, click on the ",(0,i.jsx)(s.em,{children:"Create"})," button."]}),"\n",(0,i.jsx)(c.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,i.jsx)("img",{src:"/img/workloads/webservice/list.png",alt:"workloads-list"})}),"\n",(0,i.jsx)(s.h3,{id:"2-select-a-project-and-a-name-for-the-web-service",children:"2. Select a Project and a Name for the web service"}),"\n",(0,i.jsx)(s.p,{children:"Start with the basic information, complete these attributes and click Next to continue."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Attribute"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Description"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Name"})}),(0,i.jsx)(s.td,{children:"Identify your web service."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Project"})}),(0,i.jsx)(s.td,{children:"Select between the existent projects."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Command"})}),(0,i.jsx)(s.td,{children:"The command that runs the service."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Port"})}),(0,i.jsxs)(s.td,{children:["The port number where the service runs. Default: ",(0,i.jsx)(s.code,{children:"8000"})]})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["Once those attributes are completed, click the ",(0,i.jsx)(s.em,{children:"Next"})," button to move forward."]}),"\n",(0,i.jsx)(c.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,i.jsx)("img",{src:"/img/workloads/webservice/webservice-create-p1.png",alt:"webservice-create-p1"})}),"\n",(0,i.jsx)(s.h3,{id:"3-define-the-connection",children:"3. Define the connection"}),"\n",(0,i.jsxs)(s.p,{children:["Select how will be your connection and click on ",(0,i.jsx)(s.em,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Attribute"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Description"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Service Schema"})}),(0,i.jsx)(s.td,{children:"Defines the accessibility of the service: public, private, or internal."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"URL"})}),(0,i.jsxs)(s.td,{children:["The URL assigned to the service based on the environment and project settings. Format: ",(0,i.jsx)(s.code,{children:"name.myenv.sleakops.com"}),"."]})]})]})]}),"\n",(0,i.jsx)(c.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,i.jsx)("img",{src:"/img/workloads/webservice/webservice-create-p2.png",alt:"webservice-create-p2"})}),"\n",(0,i.jsx)(s.h3,{id:"4-specify-your-workload-settings",children:"4. Specify your workload settings"}),"\n",(0,i.jsx)(s.p,{children:"You\u2019ll see the following for to specify the conditions."}),"\n",(0,i.jsx)(c.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,i.jsx)("img",{src:"/img/workloads/webservice/webservice-create-p3.png",alt:"webservice-create-p3"})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Attribute"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Description"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Path"})}),(0,i.jsxs)(s.td,{children:["The path where Kubernetes checks if the web service is operational. Default: ",(0,i.jsx)(s.code,{children:"/"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Success Code"})}),(0,i.jsxs)(s.td,{children:["The HTTP success code indicating the service\u2019s health. Default: ",(0,i.jsx)(s.code,{children:"200"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Initial Delay Seconds"})}),(0,i.jsxs)(s.td,{children:["Number of seconds after startup before health checks begin.  Default: ",(0,i.jsx)(s.code,{children:"10"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Timeout Seconds"})}),(0,i.jsxs)(s.td,{children:["Number of seconds after startup before health checks begin.  Default: ",(0,i.jsx)(s.code,{children:"1"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Period Seconds"})}),(0,i.jsxs)(s.td,{children:["Interval (in seconds) between each health check probe. Default: ",(0,i.jsx)(s.code,{children:"5"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Success Threshold"})}),(0,i.jsxs)(s.td,{children:["Minimum number of consecutive successes required for the probe to be considered successful after it has failed. Default: ",(0,i.jsx)(s.code,{children:"1"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Failure Threshold"})}),(0,i.jsxs)(s.td,{children:["Number of consecutive failures before the probe is considered to have failed. Default: ",(0,i.jsx)(s.code,{children:"60"}),"."]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"Once those attributes are completed, click the Next button to move to the next step."}),"\n",(0,i.jsx)(s.h3,{id:"5-finish-the-set-up",children:"5. Finish the set up"}),"\n",(0,i.jsx)(s.p,{children:"This step outlines the key attributes for configuring the resources of a Web Service in SleakOps, allowing for flexible management of CPU, memory, and scaling behaviors."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Attribute"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Description"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"CPU Request"})}),(0,i.jsx)(s.td,{children:"The minimum amount of CPU resources allocated for each instance in the cluster. This ensures that each instance always has this amount of CPU available."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"CPU Limit"})}),(0,i.jsx)(s.td,{children:"The maximum CPU resources that each instance in the cluster can use. This cap helps prevent any single instance from consuming too much CPU."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Memory Request"})}),(0,i.jsx)(s.td,{children:"The minimum amount of memory allocated for each instance in the cluster. This guarantees that the instance has enough memory to operate efficiently."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Memory Limit"})}),(0,i.jsx)(s.td,{children:"The maximum amount of memory each instance in the cluster can utilize. It limits the memory usage to prevent any single instance from overconsuming resources."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Autoscaling"})}),(0,i.jsx)(s.td,{children:"Toggle to enable or disable auto-scaling. When enabled, it allows the service to adjust the number of replicas based on demand and resource usage."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"CPU Target"})}),(0,i.jsx)(s.td,{children:"The CPU usage percentage target that initiates auto-scaling. If usage exceeds this target, additional replicas may be deployed to balance the load."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Memory Target"})}),(0,i.jsx)(s.td,{children:"The memory usage percentage target that triggers auto-scaling adjustments. When instances exceed this target, the system scales up to accommodate demand."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Replicas Min"})}),(0,i.jsx)(s.td,{children:"The minimum number of replicas to maintain when auto-scaling is active. A minimum of 2 replicas ensures high availability and prevents downtime."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Replicas Max"})}),(0,i.jsx)(s.td,{children:"The maximum number of replicas that can be deployed when auto-scaling is enabled. It sets an upper limit on the number of instances to avoid over-provisioning."})]})]})]}),"\n",(0,i.jsx)(c.A,{overlayBgColorEnd:"rgba(255, 255, 255, 0.8)",children:(0,i.jsx)("img",{src:"/img/workloads/webservice/webservice-create-p4.png",alt:"webservice-create-p4"})}),"\n",(0,i.jsx)(s.p,{children:"Submit to create and Deploy your web service."})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},26393:()=>{}}]);