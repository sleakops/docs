---
sidebar_position: 3
title: "Deploying Apache Superset with Bitnami Helm Chart"
description: "Complete guide for deploying Apache Superset using Bitnami Helm chart with custom configurations and tolerations"
date: "2024-12-20"
category: "workload"
tags: ["superset", "bitnami", "helm", "kubernetes", "deployment", "tolerations"]
---

import TroubleshootingItem from "@site/src/components/HomepageFeatures/troubleshootingitem";

# Deploying Apache Superset with Bitnami Helm Chart

**Date:** December 20, 2024  
**Category:** Workload  
**Tags:** Superset, Bitnami, Helm, Kubernetes, Deployment, Tolerations

## Problem Description

**Context:** Users need to deploy Apache Superset using the Bitnami Helm chart in a Kubernetes cluster with specific configurations including database initialization tolerations and custom values.

**Observed Symptoms:**

- Need to add tolerations to database initialization pods
- Bitnami chart doesn't support tolerations for init containers via values
- Requires post-renderer script to modify chart templates
- Complex configuration management for Superset deployment

**Relevant Configuration:**

- Chart: `bitnami/superset`
- Namespace: `superset`
- Custom values file: `values-def.yaml`
- Post-renderer script: `add-tolerations.sh`

**Error Conditions:**

- Database initialization pods may fail to schedule without proper tolerations
- Standard Helm values don't provide sufficient customization options
- Manual chart modification required for specific use cases

## Detailed Solution

<TroubleshootingItem id="helm-repo-setup" summary="Setting up Bitnami Helm Repository">

First, add and update the Bitnami Helm repository:

```bash
# Add Bitnami repository
helm repo add bitnami https://charts.bitnami.com/bitnami

# Update repositories to get latest charts
helm repo update

# Verify repository is added
helm repo list
```

</TroubleshootingItem>

<TroubleshootingItem id="post-renderer-script" summary="Creating the Post-Renderer Script">

Create a post-renderer script to add tolerations to database initialization pods:

```bash
#!/bin/bash
# File: add-tolerations.sh

# Make script executable
chmod +x add-tolerations.sh

# Read from stdin and apply transformations
cat <&0 | \
# Add tolerations to database init jobs
yq eval '(.spec.template.spec.tolerations) = [
  {
    "key": "node-role"
```
