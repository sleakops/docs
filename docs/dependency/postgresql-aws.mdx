import { FiExternalLink } from "react-icons/fi";

<<<<<<< HEAD
# AWS RDS PostgreSQL

For database solutions, Sleakops supports as a [dependency](./index.md) AWS-managed Postgresql RDS, with the benefits of cloud-managed RDS like scalability, backups, software patchings. You can read more about those benefits in [AWS <FiExternalLink/>](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html#Welcome.Concepts.RDS).
=======
# AWS PostgreSQL

For database solutions, Sleakops supports as a [dependency](./index.md) AWS-managed Postgresql RDS, with the benefits of cloud-managed RDS like scalability, backups, software patchings.
You can read more about those benefits in this [link](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html#Welcome.Concepts.RDS).
>>>>>>> 7b4411b79814eb5231867a7ae8792e28a7f43165

## Parameters

When you create this dependency, you only need to provide the parameters listed below:

<<<<<<< HEAD
| Name             | Description |
| ---------------- | ----------- |
| dbName           | Database name|
| dbMasterUsername | Master username|
| dbMasterPassword | Master password|
| dbInstanceClass  | The EC2 instance type and size, check [AWS <FiExternalLink/>](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.DBInstanceClass.html#Concepts.DBInstanceClass.Types) |
| dbEngineVersion  | Postgresql engine version|
| dbStorage        | The amount of storage for the instance|
| dbMultiAZ | Specifies is the instance is multi-AZ or not. Recommended for production environments|

The subnet group needed will be within your environment VPC according with our [proposed architecture](/docs/provider/aws.mdx).

<!--
        persistence_db_group = aws.rds.SubnetGroup(
            f"db_subnet_group-{self.VPC_ID}",
            subnet_ids=[
                n["id"] for n in self.get_network_output()["persistence_subnet_ids"]
            ],
            tags={
                "Name": f"DBSubnetGroup-{self.VPC_ID}",
            },
        )
        dbname = self.CONFIG.get("dbName")
        if dbname == "database":
            dbname = f"{self.NAME}-{dbname}"
        aws.rds.Instance(
            self.NAME,
            instance_class=self.CONFIG.get("dbInstanceClass"),
            allocated_storage=self.CONFIG.get("dbStorage"),
            engine_version=self.CONFIG.get("dbEngineVersion"),
            parameter_group_name="default.postgres14",
            db_name=dbname,
            password=self.CONFIG.get("dbMasterPassword"),
            username=self.CONFIG.get("dbMasterUsername"),
            skip_final_snapshot=True,
            engine="postgres",
            db_subnet_group_name=persistence_db_group.name,
        ) -->
=======
| Name             | Description                                                                                                                                           |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| dbname           | The database name                                                                                                                                     |
| dbInstanceClass  | The EC2 [instance type](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.DBInstanceClass.html#Concepts.DBInstanceClass.Types) and size |
| dbStorage        | The amount of storage for the instance                                                                                                                |
| dbEngineVersion  | Postgresql engine version, currently only **14.2**                                                                                                    |
| dbMasterUsername | Master username                                                                                                                                       |
| dbMasterPassword | Master password                                                                                                                                       |

The subnet group needed will be within your environment VPC according with our [proposed architecture](/docs/provider/aws.mdx).

The additional parameter_group_name is the default for the engine version (default.postgres14).
>>>>>>> 7b4411b79814eb5231867a7ae8792e28a7f43165
